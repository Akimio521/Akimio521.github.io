<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Git快速上手指南 | 秋澪的博客</title><noscript>开启JavaScript才能访问本站哦~</noscript><link rel="icon" href="https://img.akimio.top/avatar/akimio.png"><!-- index.css--><link rel="stylesheet" href="/css/index.css?v=1.4.7"><!-- inject head--><meta name="google-site-verification" content="Fk7XyGh7jge7BoQY"><meta name="baidu-site-verification" content="codeva-Ppouj7y5Ib"><link rel="stylesheet" href="https://cdn.cbd.int/solitude-source/icon/scoicon.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/node-snackbar/0.1.16/snackbar.min.css"><!-- aplayer--><!-- swiper--><link rel="stylesheet" href="https://cdn.staticfile.org/fancyapps-ui/5.0.33/fancybox/fancybox.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/KaTeX/0.16.9/katex.min.css"><!-- Open Graph--><meta name="description" content="Git入门 什么是Git Git是一种分布式版本控制系统。假设有一个文件夹，随之时间的变化文件夹中文件的内容随时间变化，无论是是删除或增加文件夹的内容还是修改文件夹中的某个文件的内容，都能称为一个“版本”，而Git可以记录每个版本之间的区别并快速回滚到某个版本。简单来说，Git就像是是游戏的进度存档"><!-- pwa--><script>(win => {
        win.saveToLocal = {
            set: function setWithExpiry(key, value, ttl) {
                if (ttl === 0)
                    return
                const now = new Date()
                const expiryDay = ttl * 86400000
                const item = {
                    value: value,
                    expiry: now.getTime() + expiryDay,
                }
                localStorage.setItem(key, JSON.stringify(item))
            },

            get: function getWithExpiry(key) {
                const itemStr = localStorage.getItem(key)

                if (!itemStr) {
                    return undefined
                }
                const item = JSON.parse(itemStr)
                const now = new Date()

                if (now.getTime() > item.expiry) {
                    localStorage.removeItem(key)
                    return undefined
                }
                return item.value
            }
        }

        const DarkModeStatus = localStorage.getItem('theme')
        if (DarkModeStatus !== null) {
            if (DarkModeStatus === 'dark') {
                document.documentElement.setAttribute('data-theme', 'dark')
            } else {
                document.documentElement.setAttribute('data-theme', 'light')
            }
        }

        const asideStatus = saveToLocal.get('aside-status')
        if (asideStatus !== undefined) {
            if (asideStatus === 'hide') {
                document.documentElement.classList.add('hide-aside')
            } else {
                document.documentElement.classList.remove('hide-aside')
            }
        }
    }
)(window)

console.log(
    "%c🔥 程序：Hexo | 主题：Hexo-Theme-Solitude | 作者：王卓Sco、亦封 | Github: https://github.com/wleelw/Hexo-theme-solitude | 版本：v1.4.7 😄",
    "color: #fff; background: linear-gradient(-25deg, #a8edea, #fed6e3); padding: 8px 15px; border-radius: 8px; text-shadow: 2px 2px 4px white; color: black;"
);</script><!-- global head--><script>const GLOBAL_CONFIG = {
    root: '/',
    algolia: {"appId":"FFEW0LYV6V","apiKey":"67e0012d866ead8c1cc09c58c6b50c3e","indexName":"blog","hits":{"per_page":10}},
    localsearch: undefined,
    runtime: '2023-03-18 12:00:00',
    lazyload: {
        enable: true,
        error: '/img/error_load.png'
    },
    hightlight: {
        enable: true,
        limit: 200,
        expand: true,
        copy: true,
    },
    randomlinks: false,
    lang: {
        theme: {
            dark: '已切换至深色模式',
            light: '已切换至浅色模式',
        },
        copy: {
            success: '复制成功',
            error: '复制失败',
        },
        backtop: '返回顶部',
        time: {
            recent: '最近',
            yesterday: '昨天',
            berforeyesterday: '前天',
            daybefore: '天前',
            runtime: '天',
        },
        search: {
            empty: '找不到你查询的内容：${query}',
            hit: '找到 ${hits} 条结果，用时 ${time} 毫秒',
            placeholder: '输入关键词快速查找',
        },
        chs: {
            chs_to_cht: '繁體中文',
            cht_to_chs: '简体中文',
        }
    },
    aside: {
        sayhello: {
            morning: '一日之计在于晨',
            noon: '吃饱了才有力气干活',
            afternoon: '集中精力，攻克难关',
            night: '不要太劳累了，早睡更健康',
            goodnight: '睡个好觉，保证精力充沛',
        },
        sayhello2: ["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🏠 智能家居小能手","🔨 设计开发一条龙","🤝 专修交互与设计","🏃 脚踏实地行动派","🧱 团队小组发动机","💢 壮汉人狠话不多","🎮 电竞游戏爱好者"],
    },
    covercolor: {
        enable: true
    },
    comment: {
        enable: true,
        type: 'twikoo',
        commentBarrage: true,
        randomInfoStart: ["聪敏的","可爱的","美丽的"],
        randomInfoEnd: ["白菜","小可爱","小仙女"],
        twikoo: {
            url: 'https://twikoo.akimio.top/.netlify/functions/twikoo',
            accessToken: ''
        },
        waline: {
            url: '',
        }
    },
    lightbox: 'fancybox',
    rightside: {
        enable: true
    },
    ai: {
        enable: false,
        key: '',
        talk: '我是王卓Sco开发的摘要生成助理ScoGPT，ScoGPT在静态部署时进行摘要的撰写，并且在访客访问时通过ScoCorrection转译后的文本摘要实现工具。我在这里只负责已经生成的摘要显示，你无法与我直接沟通，但我可以回答一些预设的问题。',
        randomPost: false,
    },
    music: {
        enable: false,
    },
    translate: {"defaultEncoding":2,"translateDelay":0},
};</script><meta name="generator" content="Hexo 7.1.1"><link rel="alternate" href="/atom.xml" title="秋澪的博客" type="application/atom+xml">
<link rel="alternate" href="/rss2.xml" title="秋澪的博客" type="application/rss+xml">
</head><body id="body"><!-- universe--><canvas id="universe"></canvas><!-- loading--><!-- console--><div id="console"><div class="close-btn" onclick="sco.hideConsole()"><i class="scoicon sco-close-fill"></i></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments" onclick="sco.hideConsole()"><div class="card-content"><div class="author-content-item-tips">互动</div><div class="author-content-item-title">最新评论</div></div><div class="aside-list"></div></div></div><div class="console-card-group-right"><div class="console-card tags" onclick="sco.hideConsole()"><div class="card-content"><div class="author-content-item-tips">标签</div><div class="author-content-item-title">寻找感兴趣的领域</div></div><div class="card-tag-cloud"><a href="/tags/51%E5%8D%95%E7%89%87%E6%9C%BA/">51单片机<sup>2</sup></a><a href="/tags/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/">学习记录<sup>2</sup></a><a href="/tags/Arbiam/">Arbiam<sup>1</sup></a><a href="/tags/%E6%95%99%E7%A8%8B/">教程<sup>29</sup></a><a href="/tags/Docker/">Docker<sup>8</sup></a><a href="/tags/%E5%A4%87%E5%BF%98%E5%BD%95/">备忘录<sup>8</sup></a><a href="/tags/NAS/">NAS<sup>2</sup></a><a href="/tags/VPS/">VPS<sup>3</sup></a><a href="/tags/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/">内网穿透<sup>1</sup></a><a href="/tags/Hexo/">Hexo<sup>3</sup></a><a href="/tags/%E5%8D%9A%E5%AE%A2/">博客<sup>4</sup></a><a href="/tags/%E7%BE%8E%E5%8C%96/">美化<sup>1</sup></a><a href="/tags/%E7%BE%A4%E6%99%96/">群晖<sup>1</sup></a><a href="/tags/ROS/">ROS<sup>1</sup></a><a href="/tags/Ubuntu/">Ubuntu<sup>1</sup></a><a href="/tags/WSL/">WSL<sup>1</sup></a><a href="/tags/VMware/">VMware<sup>1</sup></a><a href="/tags/%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/">软件推荐<sup>1</sup></a><a href="/tags/%E6%8E%A8%E8%8D%90/">推荐<sup>4</sup></a><a href="/tags/%E7%BD%91%E7%AB%99/">网站<sup>1</sup></a><a href="/tags/%E8%BD%AF%E4%BB%B6/">软件<sup>2</sup></a><a href="/tags/IOS/">IOS<sup>1</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库<sup>1</sup></a><a href="/tags/Markdown/">Markdown<sup>1</sup></a><a href="/tags/%E5%9F%9F%E5%90%8D/">域名<sup>1</sup></a><a href="/tags/%E7%BD%91%E7%AB%99%E4%BC%98%E5%8C%96/">网站优化<sup>1</sup></a><a href="/tags/CLoudflare/">CLoudflare<sup>2</sup></a><a href="/tags/Ventoy/">Ventoy<sup>1</sup></a><a href="/tags/WinToGo/">WinToGo<sup>1</sup></a><a href="/tags/LinToGo/">LinToGo<sup>1</sup></a><a href="/tags/AIO/">AIO<sup>1</sup></a><a href="/tags/%E8%B7%AF%E7%94%B1%E5%99%A8/">路由器<sup>1</sup></a><a href="/tags/Git/">Git<sup>1</sup></a><a href="/tags/CloudFlare/">CloudFlare<sup>1</sup></a><a href="/tags/Excalidraw/">Excalidraw<sup>1</sup></a><a href="/tags/UnlockMusic%E9%9F%B3%E4%B9%90%E8%A7%A3%E9%94%81/">UnlockMusic音乐解锁<sup>1</sup></a><a href="/tags/%E5%9B%BE%E5%BA%8A/">图床<sup>1</sup></a><a href="/tags/%E5%9F%9F%E5%90%8D%E9%82%AE%E7%AE%B1/">域名邮箱<sup>1</sup></a><a href="/tags/%E9%95%9C%E5%83%8F%E7%AB%99%E6%90%AD%E5%BB%BA/">镜像站搭建<sup>1</sup></a><a href="/tags/Alist/">Alist<sup>2</sup></a><a href="/tags/Replit/">Replit<sup>2</sup></a><a href="/tags/Halo/">Halo<sup>1</sup></a><a href="/tags/Render/">Render<sup>1</sup></a></div></div><div class="console-card history" onclick="sco.hideConsole()"><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" onclick="pjax.loadUrl('/archives/2024/02/')" href="javascript:void(0);" rel="external nofollow noreferrer"><span class="card-archive-list-date">2024/02</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span class="card-archive-list-count-unit">篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" onclick="pjax.loadUrl('/archives/2024/01/')" href="javascript:void(0);" rel="external nofollow noreferrer"><span class="card-archive-list-date">2024/01</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span class="card-archive-list-count-unit">篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" onclick="pjax.loadUrl('/archives/2023/12/')" href="javascript:void(0);" rel="external nofollow noreferrer"><span class="card-archive-list-date">2023/12</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span class="card-archive-list-count-unit">篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" onclick="pjax.loadUrl('/archives/2023/10/')" href="javascript:void(0);" rel="external nofollow noreferrer"><span class="card-archive-list-date">2023/10</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span class="card-archive-list-count-unit">篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" onclick="pjax.loadUrl('/archives/2023/09/')" href="javascript:void(0);" rel="external nofollow noreferrer"><span class="card-archive-list-date">2023/09</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span class="card-archive-list-count-unit">篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" onclick="pjax.loadUrl('/archives/2023/08/')" href="javascript:void(0);" rel="external nofollow noreferrer"><span class="card-archive-list-date">2023/08</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span class="card-archive-list-count-unit">篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" onclick="pjax.loadUrl('/archives/2023/07/')" href="javascript:void(0);" rel="external nofollow noreferrer"><span class="card-archive-list-date">2023/07</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span class="card-archive-list-count-unit">篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" onclick="pjax.loadUrl('/archives/2023/06/')" href="javascript:void(0);" rel="external nofollow noreferrer"><span class="card-archive-list-date">2023/06</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">6</span><span class="card-archive-list-count-unit">篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" onclick="pjax.loadUrl('/archives/2023/05/')" href="javascript:void(0);" rel="external nofollow noreferrer"><span class="card-archive-list-date">2023/05</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">13</span><span class="card-archive-list-count-unit">篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" onclick="pjax.loadUrl('/archives/2023/04/')" href="javascript:void(0);" rel="external nofollow noreferrer"><span class="card-archive-list-date">2023/04</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span class="card-archive-list-count-unit">篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" onclick="pjax.loadUrl('/archives/2023/03/')" href="javascript:void(0);" rel="external nofollow noreferrer"><span class="card-archive-list-date">2023/03</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">5</span><span class="card-archive-list-count-unit">篇</span></div></a></li></ul></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" onclick="sco.switchDarkMode()" title="昼夜切换" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="scoicon sco-moon-clear-fill"></i></a></div><div class="console-btn-item" id="consoleHideAside"><a class="asideSwitch" onclick="sco.switchHideAside()" title="边栏显示控制" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="scoicon sco-side-bar-fill"></i></a></div><div class="console-btn-item on" id="consoleCommentBarrage" onclick="sco.switchCommentBarrage()"><a class="commentBarrage"><i class="scoicon sco-chat-fill"></i></a></div></div><div class="console-mask" onclick="sco.hideConsole()"></div></div><!-- sidebar--><div id="sidebar" style="zoom: 1;"><div id="menu-mask" style="display: none;"></div><div id="sidebar-menus"><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" onclick="sco.switchDarkMode()" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="scoicon sco-moon-clear-fill"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://akimio.top" title="个人主页"><img class="back-menu-item-icon" src="https://img.akimio.top/avatar/akimio.png" alt="项目"><span class="back-menu-item-text">个人主页</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://excalidraw.akimio.top" title="Excalidraw"><img class="back-menu-item-icon" src="https://img.akimio.top/ICON/excalidraw.png" alt="项目"><span class="back-menu-item-text">Excalidraw</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://chatgpt.akimio.top" title="ChatGPT"><img class="back-menu-item-icon" src="https://img.akimio.top/ICON/chatgpt.png" alt="项目"><span class="back-menu-item-text">ChatGPT</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://alist.akimio.top" title="Alist"><img class="back-menu-item-icon" src="https://img.akimio.top/ICON/alist.png" alt="项目"><span class="back-menu-item-text">Alist</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://music.akimio.top" title="Splayer"><img class="back-menu-item-icon" src="https://img.akimio.top/ICON/splayer.png" alt="项目"><span class="back-menu-item-text">Splayer</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://um.akimio.top" title="音乐解锁"><img class="back-menu-item-icon" src="https://img.akimio.top/ICON/UnlockMusic.png" alt="项目"><span class="back-menu-item-text">音乐解锁</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><span>文库</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="scoicon sco-folder-fill"></i><span>文章列表</span></a></li><li><a class="site-page child" href="/categories/"><i class="scoicon sco-checkbox-multiple-blank-fill"></i><span>全部分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="scoicon sco-price-tag-fill"></i><span>全部标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><span>友链</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/links/"><i class="scoicon sco-group-fill"></i><span>友情链接</span></a></li><li><a class="site-page child" href="/frcircle/"><i class="scoicon sco-wifi-fill"></i><span>朋友圈</span></a></li><li><a class="site-page child" href="javascript:travelling()" rel="external nofollow noreferrer"><i class="scoicon sco-gift-fill"></i><span>宝藏博主</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><span>我的</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/tools/"><i class="scoicon sco-tools-fill"></i><span>工具箱</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><span>关于</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="scoicon sco-contacts-fill"></i><span>关于本站</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-widget card-tags card-archives card-webinfo card-allinfo"><div class="card-tag-cloud"><a href="/tags/51%E5%8D%95%E7%89%87%E6%9C%BA/">51单片机<sup>2</sup></a><a href="/tags/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/">学习记录<sup>2</sup></a><a href="/tags/Arbiam/">Arbiam<sup>1</sup></a><a href="/tags/%E6%95%99%E7%A8%8B/">教程<sup>29</sup></a><a href="/tags/Docker/">Docker<sup>8</sup></a><a href="/tags/%E5%A4%87%E5%BF%98%E5%BD%95/">备忘录<sup>8</sup></a><a href="/tags/NAS/">NAS<sup>2</sup></a><a href="/tags/VPS/">VPS<sup>3</sup></a><a href="/tags/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/">内网穿透<sup>1</sup></a><a href="/tags/Hexo/">Hexo<sup>3</sup></a><a href="/tags/%E5%8D%9A%E5%AE%A2/">博客<sup>4</sup></a><a href="/tags/%E7%BE%8E%E5%8C%96/">美化<sup>1</sup></a><a href="/tags/%E7%BE%A4%E6%99%96/">群晖<sup>1</sup></a><a href="/tags/ROS/">ROS<sup>1</sup></a><a href="/tags/Ubuntu/">Ubuntu<sup>1</sup></a><a href="/tags/WSL/">WSL<sup>1</sup></a><a href="/tags/VMware/">VMware<sup>1</sup></a><a href="/tags/%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/">软件推荐<sup>1</sup></a><a href="/tags/%E6%8E%A8%E8%8D%90/">推荐<sup>4</sup></a><a href="/tags/%E7%BD%91%E7%AB%99/">网站<sup>1</sup></a><a href="/tags/%E8%BD%AF%E4%BB%B6/">软件<sup>2</sup></a><a href="/tags/IOS/">IOS<sup>1</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库<sup>1</sup></a><a href="/tags/Markdown/">Markdown<sup>1</sup></a><a href="/tags/%E5%9F%9F%E5%90%8D/">域名<sup>1</sup></a><a href="/tags/%E7%BD%91%E7%AB%99%E4%BC%98%E5%8C%96/">网站优化<sup>1</sup></a><a href="/tags/CLoudflare/">CLoudflare<sup>2</sup></a><a href="/tags/Ventoy/">Ventoy<sup>1</sup></a><a href="/tags/WinToGo/">WinToGo<sup>1</sup></a><a href="/tags/LinToGo/">LinToGo<sup>1</sup></a><a href="/tags/AIO/">AIO<sup>1</sup></a><a href="/tags/%E8%B7%AF%E7%94%B1%E5%99%A8/">路由器<sup>1</sup></a><a href="/tags/Git/">Git<sup>1</sup></a><a href="/tags/CloudFlare/">CloudFlare<sup>1</sup></a><a href="/tags/Excalidraw/">Excalidraw<sup>1</sup></a><a href="/tags/UnlockMusic%E9%9F%B3%E4%B9%90%E8%A7%A3%E9%94%81/">UnlockMusic音乐解锁<sup>1</sup></a><a href="/tags/%E5%9B%BE%E5%BA%8A/">图床<sup>1</sup></a><a href="/tags/%E5%9F%9F%E5%90%8D%E9%82%AE%E7%AE%B1/">域名邮箱<sup>1</sup></a><a href="/tags/%E9%95%9C%E5%83%8F%E7%AB%99%E6%90%AD%E5%BB%BA/">镜像站搭建<sup>1</sup></a><a href="/tags/Alist/">Alist<sup>2</sup></a><a href="/tags/Replit/">Replit<sup>2</sup></a><a href="/tags/Halo/">Halo<sup>1</sup></a><a href="/tags/Render/">Render<sup>1</sup></a></div></div></div></div><!-- keyboard--><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav class="show" id="nav"><div id="nav-group"><div id="blog_name"><div class="back-home-button" tabindex="-1"><i class="back-home-button-icon scoicon sco-more-fill"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://akimio.top" title="个人主页"><img class="back-menu-item-icon" src="https://img.akimio.top/avatar/akimio.png" alt="项目"><span class="back-menu-item-text">个人主页</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://excalidraw.akimio.top" title="Excalidraw"><img class="back-menu-item-icon" src="https://img.akimio.top/ICON/excalidraw.png" alt="项目"><span class="back-menu-item-text">Excalidraw</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://chatgpt.akimio.top" title="ChatGPT"><img class="back-menu-item-icon" src="https://img.akimio.top/ICON/chatgpt.png" alt="项目"><span class="back-menu-item-text">ChatGPT</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://alist.akimio.top" title="Alist"><img class="back-menu-item-icon" src="https://img.akimio.top/ICON/alist.png" alt="项目"><span class="back-menu-item-text">Alist</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://music.akimio.top" title="Splayer"><img class="back-menu-item-icon" src="https://img.akimio.top/ICON/splayer.png" alt="项目"><span class="back-menu-item-text">Splayer</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://um.akimio.top" title="音乐解锁"><img class="back-menu-item-icon" src="https://img.akimio.top/ICON/UnlockMusic.png" alt="项目"><span class="back-menu-item-text">音乐解锁</span></a></div></div></div></div><a id="site-name" href="/" title="返回博客主页" target="_self"><span class="title">秋澪Akimio的博客</span></a></div><div id="page-name-mask"><div id="page-name"><a id="page-name-text" onclick="sco.toTop()">Git快速上手指南</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><span>文库</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="scoicon sco-folder-fill"></i><span>文章列表</span></a></li><li><a class="site-page child" href="/categories/"><i class="scoicon sco-checkbox-multiple-blank-fill"></i><span>全部分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="scoicon sco-price-tag-fill"></i><span>全部标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><span>友链</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/links/"><i class="scoicon sco-group-fill"></i><span>友情链接</span></a></li><li><a class="site-page child" href="/frcircle/"><i class="scoicon sco-wifi-fill"></i><span>朋友圈</span></a></li><li><a class="site-page child" href="javascript:travelling()" rel="external nofollow noreferrer"><i class="scoicon sco-gift-fill"></i><span>宝藏博主</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><span>我的</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/tools/"><i class="scoicon sco-tools-fill"></i><span>工具箱</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><span>关于</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="scoicon sco-contacts-fill"></i><span>关于本站</span></a></li></ul></div></div></div><div id="nav-left"></div><div id="nav-right"><div class="nav-button" id="travellings_button"><a class="site-page" target="_blank" rel="noopener external nofollow noreferrer" href="https://www.travellings.cn/go.html" title=""><i class="scoicon sco-train-line"></i></a></div><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机一篇文章" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="scoicon sco-signal-tower-fill"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" rel="external nofollow noreferrer" title="搜索"><i class="scoicon sco-search-line"></i></a></div><div class="nav-button" id="nav-console"><a class="console_switchbutton" onclick="sco.showConsole()" title="中控台" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="scoicon sco-dashboard-fill"></i></a></div><div class="nav-button" id="nav-totop" onclick="sco.toTop()"><a class="totopbtn"><i class="scoicon sco-arrow-up-line"></i><span id="percent">0</span></a></div><div id="toggle-menu"><a class="site-page"><i class="scoicon sco-menu-line"></i></a></div></div></div></nav><div class="coverdiv" id="coverdiv"><img class="nolazyload" id="post-cover" src="https://img.akimio.top/Blog/2023/10/1697202289-6529407182519.webp" alt="Git快速上手指南"></div><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original" title="该文章为原创文章，注意版权协议">原创</a><span class="post-meta-categories"><a class="post-meta-categories" href="/categories/学习笔记/">学习笔记</a></span><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%95%99%E7%A8%8B/"><span class="tags-name tags-punctuation">教程</span></a><a class="post-meta__tags" href="/tags/Git/"><span class="tags-name tags-punctuation">Git</span></a></div></div></div></div><h1 class="post-title">Git快速上手指南</h1><div id="post-meta"><div class="meta-secondline"><span class="post-meta-date" title="meta_posted 2023-07-01 16:54:32"><i class="post-meta-icon scoicon sco-calendar-todo-fill"></i><time datetime="2023-07-01T08:54:32.000Z">2023-07-01T08:54:32.000Z</time></span><span class="post-meta-date" title="meta_updated 2023-10-20 21:16:23"><i class="post-meta-icon scoicon sco-refresh-line"></i><time datetime="2023-10-20T13:16:23.000Z">2023-10-20T13:16:23.000Z</time></span><span class="post-meta-wordcount"><i class="post-meta-icon scoicon sco-word-fill" title="文章字数"></i><span class="word-count">13k</span><span class="post-meta-separator"></span><i class="post-meta-icon scoicon sco-clock-fill" title="阅读耗时"></i><span>52 min</span></span><span class="post-meta-position" title="作者IP归属地为大连"><i class="post-meta-icon scoicon sco-map-pin-fill"></i><span>大连</span></span><a class="post-meta-pv" href="/posts/1026/" title="文章热度"><i class="post-meta-icon scoicon sco-fire-fill"></i><span id="twikoo_visitors"><i class="scoicon sco-loading-line"></i></span></a><span class="post-meta-commentcount" title="评论数" onclick="sco.scrollTo('post-comment')"><i class="scoicon sco-chat-fill"></i><a href="/posts/1026/#post-comment"><span id="twikoo-count"><i class="scoicon sco-loading-line"></i></span></a></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="Git入门"><a class="headerlink" href="#Git入门"></a>Git入门</h1>
<h2 id="什么是Git"><a class="headerlink" href="#什么是Git"></a>什么是Git</h2>
<p>Git是一种分布式版本控制系统。假设有一个文件夹，随之时间的变化文件夹中文件的内容随时间变化，无论是是删除或增加文件夹的内容还是修改文件夹中的某个文件的内容，都能称为一个“版本”，而Git可以记录每个版本之间的区别并快速回滚到某个版本。简单来说，Git就像是是游戏的进度存档，可以快速回档<br>
Git可以清楚地记录每个文件是谁在什么时候加进来的，什么时候修改的，修改的内容有哪些<br>
无论做什么工作，如果有Git帮你保留这些历史记录和证据，那么发生意外情况的时候你就能知道是从什么时候开始有问题，以及该找谁负责了</p>
<h2 id="Git的优点"><a class="headerlink" href="#Git的优点"></a>Git的优点</h2>
<h3 id="速度块，占用体积小"><a class="headerlink" href="#速度块，占用体积小"></a>速度块，占用体积小</h3>
<p>如果你也有按照时间顺序备份文件的习惯，或许一个两个小文件还好，但是一旦涉及到大型文件夹，一次备份就会占用大量的空间，并且没有办法记录各个版本之间的差异</p>
<h3 id="分布式系统"><a class="headerlink" href="#分布式系统"></a>分布式系统</h3>
<p>Git通常会有一服共同的服务器，所有文件都保存在这台服务器之上，即使在没有网络的环境下，在个人电脑上依然可以使用Git进行版本控制，待网络恢复后，再将个人电脑的数据同步（Push）到这台服务器上去。而个人电脑的数量可以有很多，每个人都可以将自己的修改后的文件同步到这台服务器上，大大提高了工作效率。这台服务器最著名的就有免费的Github，或者国内的Gitee，还可以是自建的Gitlab</p>
<h2 id="Git的缺点"><a class="headerlink" href="#Git的缺点"></a>Git的缺点</h2>
<h3 id="易学难精"><a class="headerlink" href="#易学难精"></a>易学难精</h3>
<p>Git的指令有非常多，但常用的却不多。约20%的指令就可以胜任80%的工作。但好在有许多实用的图形界面供新手学习使用（如SourceTree）</p>
<h3 id="二进制文件的无奈"><a class="headerlink" href="#二进制文件的无奈"></a>二进制文件的无奈</h3>
<p>Git只关心文件的内容，每次版本的更新都会逐行对比文本文件（如md、txt）的差异并予以记录。但像是Photoshop的psd、Office的docx、ppt等文件是二进制文件，并不能像常规文本一样一行行查询，也就无法精确地查看不同版本的差异。但总体来说Git还是可以帮的上忙的，版本回溯的功能依然可以使用，至少当文件不小心被覆盖或者被删除的时候依然可以找回旧版本的文件</p>
<h1 id="环境安装"><a class="headerlink" href="#环境安装"></a>环境安装</h1>
<h2 id="Windows"><a class="headerlink" href="#Windows"></a>Windows</h2>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://git-scm.com/download/win">Git官方下载地址</a><br>
里面提供的32位和64位、安装版和便携版共4种组合供大家选择，选择适合的版本就好</p>
<h2 id="Mac"><a class="headerlink" href="#Mac"></a>Mac</h2>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://git-scm.com/download/mac">Git官方下载地址</a><br>
在macOS上安装Git有几个选项：Homebrew、MacPorts、Xcode、Binary installer、Building from Source、Installing git-gui</p>
<h2 id="Linux"><a class="headerlink" href="#Linux"></a>Linux</h2>
<p>在Linux上安装是最简单的，只需要在终端中输入apt-get命令安装即可</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ apt-get install git</span><br><span class="line"><span class="comment"># 如果提示权限不足可以尝试以下命令</span></span><br><span class="line"><span class="comment"># sudo apt-get install git</span></span><br></pre></td></tr></table></figure>
<h2 id="测试Git是否成功安装"><a class="headerlink" href="#测试Git是否成功安装"></a>测试Git是否成功安装</h2>
<p>打开终端，输入命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git -v</span><br></pre></td></tr></table></figure>
<p>如果返回版本号则代表Git已经正确安装</p>
<h2 id="图像界面工具"><a class="headerlink" href="#图像界面工具"></a>图像界面工具</h2>
<p>一开始接触Git，特别是没有Linux基础的人比较习惯图形界面工具，对终端及Git指令操作相对不熟悉，可以使用GUI工具辅助学习使用<br>
在<a target="_blank" rel="noopener external nofollow noreferrer" href="https://git-scm.com/downloads/guis">Git官方网站</a>中提供了多款GUI工具，有的是商业付费软件，有的是免费软件<br>
其中SourceTree和Github Desktop这款两工具使用于Windows和macOS，并且功能都较为完善，也可以免费使用<br>
如果在Linux上使用，SourceTree没有Linux的版本，但是可以使用gitk，可以使用下面命令安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install gitk</span><br></pre></td></tr></table></figure>
<h1 id="设置Git"><a class="headerlink" href="#设置Git"></a>设置Git</h1>
<h2 id="用户设置"><a class="headerlink" href="#用户设置"></a>用户设置</h2>
<p>使用Git首先先要设置用户的邮箱和用户名</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.name <span class="string">&quot;Akimio&quot;</span></span><br><span class="line">$ git config --global user.email <span class="string">&quot;akimio2333@gmail.com&quot;</span></span><br></pre></td></tr></table></figure>
<p>完成后可以输入以下命令检查当前配</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git config --list</span><br></pre></td></tr></table></figure>
<h2 id="单个项目用户设置"><a class="headerlink" href="#单个项目用户设置"></a>单个项目用户设置</h2>
<p>前面在设置用户时多加了一个<code>--global</code>的参数，其含义是进行全局（Global）设置，为默认的使用的账户，但要是在某一项目使用不同的作者则可以在该目录的终端中进行设置</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --<span class="built_in">local</span> user.name <span class="string">&quot;Akimio&quot;</span></span><br><span class="line">$ git config --<span class="built_in">local</span> user.email <span class="string">&quot;akimio2333@gmail.com&quot;</span></span><br></pre></td></tr></table></figure>
<h2 id="其他方便设置"><a class="headerlink" href="#其他方便设置"></a>其他方便设置</h2>
<h3 id="更换编辑器"><a class="headerlink" href="#更换编辑器"></a>更换编辑器</h3>
<p>Git默认使用Vim编辑器，这里以更换为Emacs编辑器为例</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global core.editor emacs</span><br></pre></td></tr></table></figure>
<p>除Emacs之外，Git还可以使用Sublime Text、Atom、VS Code等比较现代的文字编辑器，只需了解如果从终端启用这些编辑器，然后就可以利用同样的方法进行替换</p>
<h3 id="设置缩写"><a class="headerlink" href="#设置缩写"></a>设置缩写</h3>
<p>虽然Git的命令并不长，但是有时候懒得打太多字，或者是经常打错，就可以设置缩写</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global alias.co checkout</span><br><span class="line">$ git config --global alias.br branch</span><br><span class="line">$ git config --global alias.st status</span><br></pre></td></tr></table></figure>
<p>设置之后输入<code>git co</code>就和输入<code>git checkout</code>的效果一致，其他同理<br>
Git中有些命令需要填入一些参数，同样也可以通过Alisa设置缩写</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global alias.l <span class="string">&quot;log --oneline -- graph&quot;</span></span><br></pre></td></tr></table></figure>
<p>设置之后输入<code>git l</code>就和输入<code>git log --oneline -- graph</code>的效果一致<br>
甚至还可以设置得更复杂一些</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global alias.ls <span class="string">&#x27;log -- graph --pretty=format:&quot;%h &lt;%an&gt; %ar %s&quot;&#x27;</span></span><br><span class="line"><span class="comment"># 输入日志时显示提交Commit的人与时间</span></span><br></pre></td></tr></table></figure>
<p>除了在终端中修改，也可以直接在配置文件中修改，在<code>~/.gitconfig</code>中可以查看之前的修改：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">co = checkout br = branch</span><br><span class="line">st = status</span><br><span class="line">l = log --oneline --graph</span><br><span class="line">ls = log --graph --pretty=format:&quot;%h &lt;%an&gt; %ar %s&quot;</span><br></pre></td></tr></table></figure>
<p>你也可以仿照这种格式直接修改<br>
虽然只是少打了几个字母，但是长期积累，减少的输入量还是十分惊人的</p>
<h1 id="开始使用Git"><a class="headerlink" href="#开始使用Git"></a>开始使用Git</h1>
<h2 id="初始化仓库（Repository）"><a class="headerlink" href="#初始化仓库（Repository）"></a>初始化仓库（Repository）</h2>
<p>如果是第一次使用Git，那么就从建立一个全新的文件夹开始吧</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /tep <span class="comment"># 切换至绝对路径/tmp，Windows用户可以直接进入文件夹中右键空白处选择打开终端</span></span><br><span class="line"><span class="built_in">mkdir</span> <span class="built_in">test</span> <span class="comment"># 在/tmp文件夹中创建一个名为test的文件夹</span></span><br><span class="line"><span class="built_in">cd</span> <span class="built_in">test</span> <span class="comment"># 进入test文件夹</span></span><br><span class="line">git init <span class="comment"># 初始化这个文件夹，并让Git对这个文件夹开始版本控制</span></span><br></pre></td></tr></table></figure>
<h2 id="把文件交给Git管控"><a class="headerlink" href="#把文件交给Git管控"></a>把文件交给Git管控</h2>
<h3 id="创建文件交给Git"><a class="headerlink" href="#创建文件交给Git"></a>创建文件交给Git</h3>
<h4 id="创建文件"><a class="headerlink" href="#创建文件"></a>创建文件</h4>
<p>现在在这个test文件夹中只有一个<code>.git</code>的隐藏文件夹，并没有其他的文件，所以我们创建一个文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="string">&quot;Hello,Git&quot;</span> &gt; welcome.html <span class="comment"># 将Hello,Git添加到welcome.html中，因为我们文件夹中并没有welcome.html，所以系统会为我们创建一个welcome.html</span></span><br></pre></td></tr></table></figure>
<p>输入以下命令查看Git状态</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br></pre></td></tr></table></figure>
<p>在终端就会显示（井号后面为含义）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">On branch master # 在master分支（branch）中</span><br><span class="line">No commits yet # 没有任何提交（commit）</span><br><span class="line">Untracked files: # 未追踪文件（刚刚添加到文件夹中，还未commit）</span><br><span class="line">  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed) # 使用git命令进行提交（后面会讲到）</span><br><span class="line">        welcome.html   # 列出未被追踪的文件， 这里我们就是新建的welcome.html</span><br><span class="line">nothing added to commit but untracked files present (use &quot;git add&quot; to track)</span><br></pre></td></tr></table></figure>
<h4 id="把文件交给Git"><a class="headerlink" href="#把文件交给Git"></a>把文件交给Git</h4>
<p>使用的命令是<code>git add</code>后面加上空格和文件名：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git add welcome.html</span><br></pre></td></tr></table></figure>
<p>再次查看Git状态：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">On branch master</span><br><span class="line">No commits yet</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use &quot;git rm --cached &lt;file&gt;...&quot; to unstage)</span><br><span class="line">        new file:   welcome.html</span><br></pre></td></tr></table></figure>
<p>从以上的信息可以看出，<code>welcome.html</code>的状态已经从<code>untracked</code>变成<code>new file</code>，表明该文件已经被提交到缓存区中<br>
如果觉得一个一个提交git太麻烦，也可以尝试使用以下命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git add *.html <span class="comment"># *代表通配符，意思是提交所有后缀名为html的文件</span></span><br><span class="line">$ git add . <span class="comment"># 将所有文件提交至缓存区，在Git 1.x中，git add --all和git add .有区别，但在Git 2.x中，两者含义一致</span></span><br></pre></td></tr></table></figure>
<h3 id="git-add后又对文件内容进行改动"><a class="headerlink" href="#git-add后又对文件内容进行改动"></a>git add后又对文件内容进行改动</h3>
<p>设想一下这种情况：</p>
<ol>
<li>新增了一个文件abc.txt</li>
<li>执行git add abc.txt命令，将文件提交到缓存区，但是并没有提交（commit）</li>
<li>编辑abc.txt文件<br>
此时查看一下Git状态</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">No commits yet</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use <span class="string">&quot;git rm --cached &lt;file&gt;...&quot;</span> to unstage)</span><br><span class="line">        new file:   abc.txt</span><br><span class="line">        new file:   welcome.html</span><br><span class="line">Changes not staged <span class="keyword">for</span> commit:</span><br><span class="line">  (use <span class="string">&quot;git add &lt;file&gt;...&quot;</span> to update what will be committed)</span><br><span class="line">  (use <span class="string">&quot;git restore &lt;file&gt;...&quot;</span> to discard changes <span class="keyword">in</span> working directory)</span><br><span class="line">        modified:   abc.txt</span><br></pre></td></tr></table></figure>
<p>可以发现，<code>abc.txt</code>变成了两个。因为步骤2中把txt提交到缓存区后，步骤3又编辑了该文件，对于Git来说，编辑的新内容并没有提交到缓存区中，所以缓存区的内容还是步骤2中加进来的那个文件。如果你确定步骤3的这个改动是你想要的，就可以再次执行<code>git add abc.txt</code>，将abc.txt添加到缓存区中</p>
<h3 id="把暂存区内容提交到仓库存档"><a class="headerlink" href="#把暂存区内容提交到仓库存档"></a>把暂存区内容提交到仓库存档</h3>
<p>如果仅仅是通过<code>gti add</code>命令把异动文件添加到缓存区，还不算是完成整个流程，还需要将缓存区的文件提交到仓库中永久保存：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git commit -m<span class="string">&quot;第一次提交&quot;</span></span><br></pre></td></tr></table></figure>
<p>这里双引号中的内容代表提交的说明，最主要的目的就是告诉自建和别人这次改动做了什么，下面右键建议：</p>
<ol>
<li>中文、英文都可以</li>
<li>用简洁的语言表达</li>
<li>尽量不要用Fix bug等模糊的表述，因为没人知道你修复了什么BUG<br>
在提交（commit）后会显示有什么做了修改</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[master (root-commit) 5df35a7] 第一次提交</span><br><span class="line"> 2 files changed, 0 insertions(+), 0 deletions(-)</span><br><span class="line"> create mode 100644 abc.txt</span><br><span class="line"> create mode 100644 welcome.html</span><br></pre></td></tr></table></figure>
<p>这里很清楚地可以看到新增了<code>abc.txt</code>、<code>welcome.html</code>两个文件</p>
<h2 id="查看记录"><a class="headerlink" href="#查看记录"></a>查看记录</h2>
<h3 id="使用Git命令查看记录"><a class="headerlink" href="#使用Git命令查看记录"></a>使用Git命令查看记录</h3>
<p>因为目前只提交（Commit）了一次，不好比较，所以我们再创建一个新的文件提交一次</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="string">&quot;test2.1&quot;</span> &gt; test2.txt</span><br><span class="line">$ git add .</span><br><span class="line">$ git commit -m<span class="string">&quot;第二次提交&quot;</span></span><br></pre></td></tr></table></figure>
<p>然后输入以下命令查看提交记录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span></span><br><span class="line">commit a291b22f6fed953f2cd869fa6baacf301934a027 (HEAD -&gt; master)</span><br><span class="line">Author: akimio &lt;akimio2333@gmail.com&gt;</span><br><span class="line">Date:   Sat Jul 1 17:25:48 2023 +0800</span><br><span class="line">    第二次提交</span><br><span class="line"></span><br><span class="line">commit 5df35a76b35bd217655a6df64375b6c47b7542ef</span><br><span class="line">Author: akimio &lt;akimio2333@gmail.com&gt;</span><br><span class="line">Date:   Sat Jul 1 17:18:38 2023 +0800</span><br><span class="line">    第一次提交</span><br></pre></td></tr></table></figure>
<p>越在上面说明内容约新，通过这个命令大致就可以看出是谁在什么时候提交的内容，提交了什么内容，其中<code>第一次提交</code>和<code>第二次提交</code>都是commit的说明，所以大家要清楚的写下自己修改了说明内容，方便日后查询记录。其中<code>a291b22f6fed953f2cd869fa6baacf301934a027</code>是一个哈希值，其重复的概率非常低，每一次提交（Commit）都有这么一个哈希值，可以当作提交（Commit）的唯一身份识别码</p>
<h3 id="使用Git命令查看记录时常见问题"><a class="headerlink" href="#使用Git命令查看记录时常见问题"></a>使用Git命令查看记录时常见问题</h3>
<h4 id="查找某个人或某些人的提交记录"><a class="headerlink" href="#查找某个人或某些人的提交记录"></a>查找某个人或某些人的提交记录</h4>
<p>例如查找一位叫Akimio的提交记录可以使用以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline --author=<span class="string">&quot;Akimio&quot;</span></span><br></pre></td></tr></table></figure>
<p>如果需要查找Akimio和zuilang的提交记录，就可以使用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline --author=<span class="string">&quot;Akimio\|zuilang&quot;</span></span><br></pre></td></tr></table></figure>
<p>其中<code>\</code>是转义字符，如果输入<code>git log --oneline --author=&quot;Akimio|zuilang&quot;</code>，则会查找一个名字为<code>Akimio|zuilang</code>的提交记录</p>
<h4 id="通过提交说明查找提交记录"><a class="headerlink" href="#通过提交说明查找提交记录"></a>通过提交说明查找提交记录</h4>
<p>使用<code>--grep</code>参数可以在所以提交的记录中查找关键字，例如搜索<code>fix bugs</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline --grep=<span class="string">&quot;fix bugs&quot;</span></span><br></pre></td></tr></table></figure>
<h4 id="在提交文件中找到Ruby"><a class="headerlink" href="#在提交文件中找到Ruby"></a>在提交文件中找到Ruby</h4>
<p>使用<code>-S</code>参数可以在所以提交的记录中进行搜索，找到那些符合特定条件的内容</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline -S <span class="string">&quot;Ruby&quot;</span></span><br></pre></td></tr></table></figure>
<h4 id="查找某一时间段内的提交记录"><a class="headerlink" href="#查找某一时间段内的提交记录"></a>查找某一时间段内的提交记录</h4>
<p>在查看历史记录时，可以搭配<code>--since</code>和<code>--until</code>这两个参数使用<br>
查找今天早上9点到下午6点所以的提交记录：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline --since=<span class="string">&quot;9am&quot;</span> --<span class="keyword">until</span>=<span class="string">&quot;6pm&quot;</span></span><br></pre></td></tr></table></figure>
<p><code>还可以搭配--after</code>这个参数<br>
查找自2023年6月往后每天早上9点到下午6点所以的提交记录：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline --since=<span class="string">&quot;9am&quot;</span> --<span class="keyword">until</span>=<span class="string">&quot;6pm&quot;</span> --after=<span class="string">&quot;2023-06&quot;</span></span><br></pre></td></tr></table></figure>
<h2 id="在Git中删除文件或更改文件名"><a class="headerlink" href="#在Git中删除文件或更改文件名"></a>在Git中删除文件或更改文件名</h2>
<p>无论删除还是更改文件名，对Git来说都是一种改动</p>
<h3 id="删除文件"><a class="headerlink" href="#删除文件"></a>删除文件</h3>
<h4 id="直接删除"><a class="headerlink" href="#直接删除"></a>直接删除</h4>
<p>可以使用系统命令或者是直接在资源管理器等图形化界面工具直接删除文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">rm</span> welcome.html</span><br></pre></td></tr></table></figure>
<p>此时在文件夹中已经找不到<code>welcome.html</code>这个文件了<br>
查看一下Git的状态</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes not staged <span class="keyword">for</span> commit:</span><br><span class="line">  (use <span class="string">&quot;git add/rm &lt;file&gt;...&quot;</span> to update what will be committed)</span><br><span class="line">  (use <span class="string">&quot;git restore &lt;file&gt;...&quot;</span> to discard changes <span class="keyword">in</span> working directory)</span><br><span class="line">        deleted:    welcome.html</span><br><span class="line">  </span><br><span class="line">no changes added to commit (use <span class="string">&quot;git add&quot;</span> and/or <span class="string">&quot;git commit -a&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>可以看到<code>welcome.html</code>这个文件当前状态是<code>deleted</code>，如果你确定是你想做的，就可以把改动添加到缓冲区：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">On branch master</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use &quot;git restore --staged &lt;file&gt;...&quot; to unstage)</span><br><span class="line">        deleted:    welcome.html</span><br></pre></td></tr></table></figure>
<p><code>welcome.html</code>当前状态是<code>deleted</code>而且已经被添加到缓冲区，接下来就可以提交（Commit）了：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git commit -m <span class="string">&quot;删除welcome.html&quot;</span></span><br></pre></td></tr></table></figure>
<p>然后可以查看一下提交记录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span></span><br><span class="line"></span><br><span class="line">commit b1165419ec336243647c003723e5d7d089337006 (HEAD -&gt; master)</span><br><span class="line">Author: akimio &lt;akimio2333@gmail.com&gt;</span><br><span class="line">Date:   Sat Jul 1 18:03:26 2023 +0800</span><br><span class="line">    删除welcome.html</span><br><span class="line"></span><br><span class="line">commit a291b22f6fed953f2cd869fa6baacf301934a027</span><br><span class="line">Author: akimio &lt;akimio2333@gmail.com&gt;</span><br><span class="line">Date:   Sat Jul 1 17:25:48 2023 +0800  </span><br><span class="line">    第二次提交</span><br><span class="line"></span><br><span class="line">commit 5df35a76b35bd217655a6df64375b6c47b7542ef</span><br><span class="line">Author: akimio &lt;akimio2333@gmail.com&gt;</span><br><span class="line">Date:   Sat Jul 1 17:18:38 2023 +0800</span><br><span class="line">    第一次提交</span><br></pre></td></tr></table></figure>
<h4 id="使用Git删除"><a class="headerlink" href="#使用Git删除"></a>使用Git删除</h4>
<p>输入命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">rm</span> test2.txt</span><br><span class="line">$ <span class="built_in">rm</span> <span class="string">&#x27;test2.txt&#x27;</span></span><br></pre></td></tr></table></figure>
<p>这时候查看状态：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use <span class="string">&quot;git restore --staged &lt;file&gt;...&quot;</span> to unstage)</span><br><span class="line">        deleted:    test2.txt</span><br></pre></td></tr></table></figure>
<p>他就直接在缓冲区，就不再需要<code>git add</code>了，可以少一个步骤</p>
<h4 id="加上–cached参数"><a class="headerlink" href="#加上–cached参数"></a>加上–cached参数</h4>
<p>无论是执行<code>rm</code>还是<code>git rm</code>命令都会真的把这个文件从文件夹中删除，如果只是像让这个文件不再被Git控制则可以加上<code>--cached</code>这个参数</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">rm</span> abc.txt --cached</span><br><span class="line"><span class="built_in">rm</span> <span class="string">&#x27;abc.txt&#x27;</span></span><br></pre></td></tr></table></figure>
<p>在文件夹中查看，<code>abc.txt</code>依然在文件夹中<br>
此时查看Git状态</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use <span class="string">&quot;git restore --staged &lt;file&gt;...&quot;</span> to unstage)</span><br><span class="line">        deleted:    abc.txt</span><br><span class="line">        deleted:    test2.txt</span><br><span class="line"></span><br><span class="line">Untracked files:</span><br><span class="line">  (use <span class="string">&quot;git add &lt;file&gt;...&quot;</span> to include <span class="keyword">in</span> what will be committed)</span><br><span class="line">        abc.txt</span><br></pre></td></tr></table></figure>
<p>可以看到文件<code>abc.txt</code>的状态是<code>deleted</code>且文件夹中有一个文件<code>abc.txt</code>未被追踪，由于之前删除<code>test2.txt</code>未提交，所以我们看到<code>test2.txt</code>的状态是<code>deleted</code></p>
<h3 id="更改文件名"><a class="headerlink" href="#更改文件名"></a>更改文件名</h3>
<p>更改文件名和删除文件类似，这里不再赘述其中过程，只给出命令</p>
<h4 id="直接改名"><a class="headerlink" href="#直接改名"></a>直接改名</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">mv</span> welcome.html hello.html <span class="comment"># 把welcome.htm改成hello.html</span></span><br></pre></td></tr></table></figure>
<h4 id="使用Git改名"><a class="headerlink" href="#使用Git改名"></a>使用Git改名</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">mv</span> welcome.html hello.html <span class="comment"># 把welcome.htm改成hello.html</span></span><br></pre></td></tr></table></figure>
<h3 id="文件的名称并不重要"><a class="headerlink" href="#文件的名称并不重要"></a>文件的名称并不重要</h3>
<p>Git是根据文件的内容来计算“SHA-1”的值，所以文件的名称并不重要，因此在更改文件名时，Git并不好为此做出有个新的Blob对像，而是指向原来的那个Blob对线，但因为文件名变了，所以Git会为此做出一个新的Tree对象</p>
<h2 id="修改Commit记录"><a class="headerlink" href="#修改Commit记录"></a>修改Commit记录</h2>
<h3 id="改动最后一次的Commit信息"><a class="headerlink" href="#改动最后一次的Commit信息"></a>改动最后一次的Commit信息</h3>
<p>只需要增加参数<code>--amend</code>即可</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git commit --amend -m <span class="string">&quot;新的Commit信息&quot;</span></span><br></pre></td></tr></table></figure>
<h3 id="改动更早的Commit信息"><a class="headerlink" href="#改动更早的Commit信息"></a>改动更早的Commit信息</h3>
<p>参数<code>--amend</code>只能出来最后一次的Commit，想要改动更早的记录需要使用到命令：<code>Rebase</code>，详细使用方法可以参考后面的内容。</p>
<h2 id="追加文件到最后一次Commit"><a class="headerlink" href="#追加文件到最后一次Commit"></a>追加文件到最后一次Commit</h2>
<p>刚刚提交了Commit但是突然发现有一个文件忘记加上了，虽然可以为了这个文件单独加送一次Commit，但是看上去没那么优雅，可以采用下面两种方式来完成：</p>
<ol>
<li>先使用<code>git reset</code>删除最后一次Commit，将文件加入后再重新提交Commit</li>
<li>使用<code>--amend</code>参数进行Commit<br>
这里先介绍第二种方式，第一种方式会在后续章节讲解<br>
例如，这里有一个名为<code>cinderella.html</code>的文件要把它加入最近一次的Commit。先使用<code>git status</code>命令查看<code>cinderella.html</code>的状态是<code>Untracked</code>，先将其加入缓冲区：<code>git add cinderella.html</code>，然后再提交Commit：<code>git commit --amend --no-edit</code>其中<code>--no-edit</code>参数的意思是不编辑Commit信息，这样就把文件添加到最近一次的Commit了</li>
</ol>
<h2 id="新增文件夹"><a class="headerlink" href="#新增文件夹"></a>新增文件夹</h2>
<p>刚刚添加了一个新的的文件夹<code>image</code>，但是查看Git状态却提示没有任何改动，<strong>这是因为Git在计算时是根据”文件内容“进行计算的，所以新增一个空文件夹是无法直接添加到git中的</strong><br>
解决方法其实也很简单，可以在文件夹中添加一个<code>.kepp</code>或<code>.gitkeep</code>的空文件让Git监测到这个文件夹，可以通过以下命令创建空文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">touch</span> image/.keep</span><br></pre></td></tr></table></figure>
<p>然后再依次提交到缓冲区、提交Commit就好了</p>
<h2 id="有些文件夹不想放在Git中"><a class="headerlink" href="#有些文件夹不想放在Git中"></a>有些文件夹不想放在Git中</h2>
<p>有些比较机密的文件不想放在Git文件夹中一起备份或者是一些程序编译产生的中间文件抑或是缓存文件</p>
<h3 id="添加-gitignore"><a class="headerlink" href="#添加-gitignore"></a>添加.gitignore</h3>
<p>使用命令在Git命令下创建一个<code>.gitignore</code>文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">touch</span> .gitignore</span><br></pre></td></tr></table></figure>
<p>然后编辑文件内容</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 文件名.gitingore</span><br><span class="line">secret.yml  // 忽略secret.yml文件</span><br><span class="line">config/database.yml // 忽略config文件夹下的database.yml文件</span><br><span class="line">db/*.sqlite3  // 忽略db文件夹下所有后缀名是sqlite3的文件</span><br><span class="line">*.tmp  // 忽略所有后缀名是tmp的文件</span><br><span class="line"># 也可以忽略.gitignore这个文件，但一般不会这么做</span><br><span class="line"># .gitignore</span><br></pre></td></tr></table></figure>
<p><strong>如果不清楚自己所用的工具或程序语语言通常会忽略哪些文件，可以在这里查看：</strong><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/github/gitignore">传送门</a></p>
<h3 id="忽略这个忽略"><a class="headerlink" href="#忽略这个忽略"></a>忽略这个忽略</h3>
<p>虽然<code>.gitignore</code>列出了一些忽略规则，但其实还是可以忽略这些忽略规则的，只需要在将文件提交到缓冲区时添加一个参数：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git add -f 文件名称</span><br></pre></td></tr></table></figure>
<h3 id="忽略失效"><a class="headerlink" href="#忽略失效"></a>忽略失效</h3>
<p>添加忽略规则后发现Git依然在追踪一些应被忽视的文件，是因为这些文件在创建<code>.gitignore</code>的时候就已经存在了，如果依然想要这些文件套用忽视规则可以使用以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">rm</span> --cached</span><br></pre></td></tr></table></figure>
<h3 id="清除忽略的文件"><a class="headerlink" href="#清除忽略的文件"></a>清除忽略的文件</h3>
<p>如果像清除那些已经被忽略的文件，可以使用<code>git clean</code>命令配合<code>-X</code>参数：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git clean -fX</span><br></pre></td></tr></table></figure>
<p>其中那个额外加上的参数<code>-f</code>是指强制删除</p>
<h2 id="查看特定文件的Commit记录"><a class="headerlink" href="#查看特定文件的Commit记录"></a>查看特定文件的Commit记录</h2>
<p>使用<code>git log</code>就可以查看整个Git项目所有的Commit，如果想查看某个文件所有的Commit可以使用<code>-p</code>参数：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> -p welcome.html <span class="comment"># 查看welcome.html所有的Commit</span></span><br></pre></td></tr></table></figure>
<p><code>+++</code>表示某次commit中新增加的行；<code>---</code>表示删除的行</p>
<h2 id="查看某个文件中某行代码是谁写的"><a class="headerlink" href="#查看某个文件中某行代码是谁写的"></a>查看某个文件中某行代码是谁写的</h2>
<p>如果想查看某个文件中某行的代码是是谁写的，可以使用<code>git blame</code>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git blame index.html</span><br></pre></td></tr></table></figure>
<p>然后git就可以详细地列出index.html这个文件每一行代码是谁在什么时候写的<br>
如果文件很大，可以使用<code>-L</code>这个参数：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git blame -L 5,10 index.html <span class="comment"># 这样Git只会列出5-10行的信息</span></span><br></pre></td></tr></table></figure>
<h2 id="恢复删除的文件"><a class="headerlink" href="#恢复删除的文件"></a>恢复删除的文件</h2>
<p>无论是有意还是无意将文件删除，Git都能将文件恢复，为了掩饰，我这里用<code>rm</code>删除所有的后缀为<code>html</code>文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">rm</span> *.html</span><br></pre></td></tr></table></figure>
<p>再使用<code>git status</code>查看当前Git状态，可以看到删除的html文件的状态是<code>deleted</code>。假设我想恢复其中的<code>a.html</code>，可以使用以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout a.html</span><br></pre></td></tr></table></figure>
<p>然后<code>a.html</code>就恢复了；如果想恢复所有的文件，可以使用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout .</span><br></pre></td></tr></table></figure>
<p>然后就可以恢复所有删除的文件了</p>
<h2 id="将提交的Commit拆掉重做"><a class="headerlink" href="#将提交的Commit拆掉重做"></a>将提交的Commit拆掉重做</h2>
<h3 id="拆掉重做"><a class="headerlink" href="#拆掉重做"></a>拆掉重做</h3>
<p>这种情况很常见，虽然使用的命令<code>git reset</code>很简单，但是不少人误解了Reset的意义，所以导致很多学习Git的人卡在这里</p>
<h4 id="退一步海阔天空"><a class="headerlink" href="#退一步海阔天空"></a>退一步海阔天空</h4>
<p>先查看以下Git的状态：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line">e12d8ef  (HEAD -&gt; master ) add database.yml <span class="keyword">in</span> config folder</span><br><span class="line">85e7e30 add hello.html</span><br><span class="line">657fce7 add container</span><br><span class="line">abb4f43 update index page</span><br><span class="line">ccef6e40 create index page</span><br><span class="line">cc797cd init commit</span><br></pre></td></tr></table></figure>
<p>拆掉最后一次Commit分为“相对”和“绝对”的做法，下面是“相对”的做法：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git reset e12d8ef^</span><br></pre></td></tr></table></figure>
<p><code>^</code>代表的是“前一次”，所以<code>e12d8ef^</code>指的就是e12d8ef的前一次Commit也就是<code>85e7e30</code>这个Commit。如果是前两次就是<code>e12d8ef^^</code>，以此类推，但是如果要退回到前五此一般不会用<code>e12d8ef^^^^^</code>而是用<code>e12d8ef~5</code><br>
因为正好HEAD与master当前都是指向e12d8ef这个Commit，而且一般这些哈希值不好记，所以会用以下这两个命令替代：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git reset master^</span><br><span class="line">$ git reset HEAD^</span><br></pre></td></tr></table></figure>
<p>以上是“相对的”方式，如果你很清楚要回到那个Commit，可以直接指明：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git reset 85e7e30</span><br></pre></td></tr></table></figure>
<p>然后就可以直接切换到85e7e30这个Commit的状态，因为<code>85e7e30</code>刚好就是<code>e12d8ef</code>的前一次Commit，所以也能达到“拆掉最后一次的Commit”这个效果</p>
<h4 id="Reset模式"><a class="headerlink" href="#Reset模式"></a>Reset模式</h4>
<p><code>git reset</code>这个命令可以搭配三个参数使用，分别是<code>—mixd</code>、<code>—soft</code>、<code>—hard</code>。搭配不同的参数，执行结果会有些许差别</p>
<h5 id="mixed模式"><a class="headerlink" href="#mixed模式"></a>mixed模式</h5>
<p><code>—mixd</code>是默认参数，如果没有另外加参数，<code>git reset</code>将会使用<code>—mixd</code>模式<br>
在<code>—mixd</code>模式下，会把缓冲区的文件删除，但不会影响工作目录的文件。也就是说，Commit拆出来的文件会留在工作目录，但不会留在暂缓区</p>
<h5 id="soft模式"><a class="headerlink" href="#soft模式"></a>soft模式</h5>
<p>在这种模式下，其工作目录与缓冲区的文件都不会被删除，所以看起来就只有HEAD的移动而已。因此，Commit拆出来的文件会直接放在缓冲区</p>
<h5 id="HARD模式"><a class="headerlink" href="#HARD模式"></a>HARD模式</h5>
<p>在这种模式下，无论是工作目录还是缓冲区的文件，都会直接被删除</p>
<h5 id="三种模式的比较"><a class="headerlink" href="#三种模式的比较"></a>三种模式的比较</h5>
<table>
<thead>
<tr>
<th>模式</th>
<th>mixed</th>
<th>soft</th>
<th>hard</th>
</tr>
</thead>
<tbody>
<tr>
<td>工作目录</td>
<td>不变</td>
<td>不变</td>
<td>被删除</td>
</tr>
<tr>
<td>缓冲区</td>
<td>被删除</td>
<td>不变</td>
<td>被删除</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>模式</th>
<th>mixed</th>
<th>soft</th>
<th>hard</th>
</tr>
</thead>
<tbody>
<tr>
<td>Commit拆出来的文件</td>
<td>放回工作目录</td>
<td>放回缓冲区</td>
<td>直接删除</td>
</tr>
</tbody>
</table>
<h2 id="恢复不小心被hard-reset的文件"><a class="headerlink" href="#恢复不小心被hard-reset的文件"></a>恢复不小心被hard reset的文件</h2>
<h3 id="退回到Reset前"><a class="headerlink" href="#退回到Reset前"></a>退回到Reset前</h3>
<p>还是使用之前的例子：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line">e12d8ef  (HEAD -&gt; master ) add database.yml <span class="keyword">in</span> config folder</span><br><span class="line">85e7e30 add hello.html</span><br><span class="line">657fce7 add container</span><br><span class="line">abb4f43 update index page</span><br><span class="line">ccef6e40 create index page</span><br><span class="line">cc797cd init commit</span><br></pre></td></tr></table></figure>
<p>这里一共有6个Commit，我们假设倒退两步：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git reset HEAD~2</span><br></pre></td></tr></table></figure>
<p>然后再次查看Git状态：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line">657fce7 (HEAD -&gt; master ) add container</span><br><span class="line">abb4f43 update index page</span><br><span class="line">ccef6e40 create index page</span><br><span class="line">cc797cd init commit</span><br></pre></td></tr></table></figure>
<p>会发现最后两次Commit都不见了，但最后两次的Commit其实是依旧存在的，只是没有列出，假设我想要恢复到执行执行<code>git reset HEAD~2</code>命令之前的状态，只需要执行这个命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git reset e12d8ef --hard <span class="comment"># e12d8ef为执行reset前的那个Commit的SHA-1值</span></span><br></pre></td></tr></table></figure>
<p>这里使用了<code>--hard</code>这个参数可以强迫放弃Reset之后改动的文件</p>
<h3 id="使用Reflog"><a class="headerlink" href="#使用Reflog"></a>使用Reflog</h3>
<p>如果一开始没有记录Commit的SHA-1值也没有关系，可以使用下面的方法恢复<br>
方法演示前，我们先reset一下我们的git仓库：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git reset HEAD~2 --hard <span class="comment"># 与上面的例子不同的是这里使用了hard模式进行reset</span></span><br></pre></td></tr></table></figure>
<p>这样不仅Commit不见了，文件也消失了。然后可以使用Reflog命令来查看一下记录：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git reflog</span><br><span class="line">657fce7 (HEAD -&gt; master) HEAD@&#123;0&#125;: moving to HEAD~2</span><br><span class="line">e12d8ef (origin/master,origin/HEAD,<span class="built_in">cat</span>) HEAD@&#123;1&#125;:checkout : moving from <span class="built_in">cat</span> to master</span><br><span class="line">e12d8ef (origin/master,origin/HEAD,<span class="built_in">cat</span>) HEAD@&#123;2&#125;:checkout : moving from master to <span class="built_in">cat</span></span><br></pre></td></tr></table></figure>
<p>当HEAD移动时（如切换分支或者Reset都会造成HEAD移动），Git就会在Reflog中留下一条记录。从上面的三条记录中，可以大致猜出最近3次HEAD的移动，最后一次的动作就是Reset。如果想要取消这次Reset，只需要Reset到它Reset前的那个Commit即可：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git reset e12d8ef --hard</span><br></pre></td></tr></table></figure>
<h2 id="HEAD是什么"><a class="headerlink" href="#HEAD是什么"></a>HEAD是什么</h2>
<h3 id="HEAD简介"><a class="headerlink" href="#HEAD简介"></a>HEAD简介</h3>
<p>HEAD是一个指标，指向了某个分支，通常可以把他当作<code>当前所在分支</code>来看待。在<code>.git</code>目录中有一个名为<code>HEAD</code>的文件，其中记录的就是HEAD的内容，可以来看看他长什么样：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cat</span> .git/HEAD</span><br><span class="line">ref: ref/heads/master</span><br></pre></td></tr></table></figure>
<p>从这个文件就看也看出，HEAD当前正指向master分支，可以在深入看一下master：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cat</span> ./refs/heads/master</span><br><span class="line">e12d8ef0eb9deae8bf1115c5ce51dbc2e09c8904</span><br></pre></td></tr></table></figure>
<p>可以看到所谓的master分支其实也只是一个40个字节的文件罢了</p>
<h3 id="切换分支"><a class="headerlink" href="#切换分支"></a>切换分支</h3>
<p>假设当前项目一共有三个分支，当前在master分支上：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git branch</span><br><span class="line">main</span><br><span class="line">dev</span><br><span class="line">* master</span><br></pre></td></tr></table></figure>
<p>接下来尝试切换到<code>dev</code>分支上：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout dev</span><br><span class="line">Switch to branch <span class="string">&#x27;dev&#x27;</span></span><br></pre></td></tr></table></figure>
<p>这时再看一下HEAD文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cat</span> .git/HEAD</span><br><span class="line">ref: refs/heads/dev</span><br></pre></td></tr></table></figure>
<p>就可以看到HEAD现在指向<code>dev</code>分支了，我们再尝试切换到<code>main</code>分支：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout main</span><br><span class="line">Switch to branch <span class="string">&#x27;main&#x27;</span></span><br></pre></td></tr></table></figure>
<p>这时再确认一下HEAD：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cat</span> .git/HEAD</span><br><span class="line">ref: refs/heads/main</span><br></pre></td></tr></table></figure>
<p>它又指向了<code>main</code>分支。也就是说，HEAD通常会指向当前所在的分支。不过HEAD也不一定总所指向某个分支，当HEAD没有指向某个分支时便会造成<code>detached HEAD</code>状态</p>
<h1 id="版本分支"><a class="headerlink" href="#版本分支"></a>版本分支</h1>
<h2 id="使用版本分支的原因"><a class="headerlink" href="#使用版本分支的原因"></a>使用版本分支的原因</h2>
<p>在开发的过程中，一路往前Commit迭代版本似乎也并没有问题，但是当越来越多的伙伴加入同一个项目中的时候，就不能像前面那么随意的Commit了。这是分支的作用就派上用场了。例如，想要新增功能或者修复Bug，都可以新创建一个分支，在新分支上做完并确认没有问题之后再合并回到原本的分支，这样就不会影响正在运行的产品线</p>
<h2 id="开始使用分支"><a class="headerlink" href="#开始使用分支"></a>开始使用分支</h2>
<h3 id="查看分支"><a class="headerlink" href="#查看分支"></a>查看分支</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git branch</span><br><span class="line">* master</span><br><span class="line">main</span><br></pre></td></tr></table></figure>
<p>可以看到当前项目有两个分支，并且当前在<code>master</code>前面有个<code>*</code>，说明当前在这个分支上</p>
<h3 id="新增分支"><a class="headerlink" href="#新增分支"></a>新增分支</h3>
<p>假设我需要新增一个名为<code>dev</code>的分支，只需要输入下面这段命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch de</span><br></pre></td></tr></table></figure>
<p>然后在查看一下当前项目的分支情况</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git branch</span><br><span class="line">dev</span><br><span class="line">* master</span><br><span class="line">main</span><br></pre></td></tr></table></figure>
<p>可以看到多出了一个分支，但当前的项目依旧在<code>master</code>分支上</p>
<h3 id="更改分支名称"><a class="headerlink" href="#更改分支名称"></a>更改分支名称</h3>
<p>假设我们需要将分支<code>dev</code>修改成<code>test</code>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -m dev <span class="built_in">test</span></span><br></pre></td></tr></table></figure>
<p>再查看一下分支：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git branch</span><br><span class="line"><span class="built_in">test</span></span><br><span class="line">* master</span><br><span class="line">main</span><br></pre></td></tr></table></figure>
<h3 id="删除分支"><a class="headerlink" href="#删除分支"></a>删除分支</h3>
<p>假设<code>test</code>已经不再需要了，就可以使用下面的命令删除：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -d <span class="built_in">test</span></span><br></pre></td></tr></table></figure>
<p>如果<code>test</code>分支中还有内容未被合并，Git就会给出提示，并且<code>test</code>分支也不会被删除，如果想要强制删除，可以使用下面的命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -D <span class="built_in">test</span></span><br></pre></td></tr></table></figure>
<p>需要注意的是，“当前所在分支”是无法被删除的，想要删除该分支，必须先要切换到其他的分支上</p>
<h3 id="切换分支-2"><a class="headerlink" href="#切换分支-2"></a>切换分支</h3>
<p>假设当前在<code>master</code>上，现在需要切换到<code>main</code>分支去</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout main</span><br></pre></td></tr></table></figure>
<p>这个命令只能切换到已经存在的分支上，如果需要创建一个分支并切换过去可以使用下面这个命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -b test2</span><br></pre></td></tr></table></figure>
<h2 id="合并分支"><a class="headerlink" href="#合并分支"></a>合并分支</h2>
<p>假设我们新创建了一个<code>dev</code>分支，并且在这个分支上提交了两次Commit，现在需要将这两次提交的内容合并回主线分支<code>master</code>，我们需要先回到主线分支<code>master</code>，在将<code>dev</code>分支的内容合并回主线分支：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout master</span><br><span class="line">$ git merge dev</span><br></pre></td></tr></table></figure>
<p>然后就可以看到哪些文件有改动</p>
<h3 id="A合并B与B合并A"><a class="headerlink" href="#A合并B与B合并A"></a>A合并B与B合并A</h3>
<p>假设有两个分支<code>dev1</code>和<code>dev2</code>都来自<code>master</code>的同一个Commit。现在这两个分支都提交了不同的Commit，现在需要将这两个分支合并。<br>
假设目前<code>HEAD</code>在<code>dev1</code>分支上，先执行合并<code>dev2</code>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git merge dev2</span><br></pre></td></tr></table></figure>
<p>然后Git会创建一个额外的Commit，这个Commit同时指向了<code>dev1</code>和<code>dev2</code>两个分支，然后<code>HEAD</code>会随<code>dev1</code>向前指向这个新的Commit，而<code>dev2</code>分支会停留在原地<br>
<strong>值得注意的是，如果<code>dev1</code>和<code>dev2</code>修改同一文件，合并时就会有冲突，需要打开这个文件手动修改冲突位置</strong></p>
<h2 id="恢复不小心被删除的分支"><a class="headerlink" href="#恢复不小心被删除的分支"></a>恢复不小心被删除的分支</h2>
<h3 id="恢复已被删除但还未合并过的分支"><a class="headerlink" href="#恢复已被删除但还未合并过的分支"></a>恢复已被删除但还未合并过的分支</h3>
<p>如果某个还未合并过的分支被用<code>-D</code>强制删除了：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -D dev</span><br><span class="line">Deleted branch dev (was b174a5a)</span><br></pre></td></tr></table></figure>
<p>找到这个分支最新Commit的HASH值，也就是<code>b174a5a</code>，只要创建一个新的分支从这个Commit开始就好了：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch new_dev b174a5a</span><br></pre></td></tr></table></figure>
<p>然后检查一下分支，切换过去，查看了一下文件列表就会发现文件都回来了</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git branch</span><br><span class="line">$ git checkout new_dev1</span><br><span class="line">$ <span class="built_in">ls</span> -al total 16</span><br></pre></td></tr></table></figure>
<h3 id="删除分支时没有记录HASH值"><a class="headerlink" href="#删除分支时没有记录HASH值"></a>删除分支时没有记录HASH值</h3>
<p>上面介绍了如果记录了删除分支时没有记录HASH值的方法，如果没有记录删除分支时的HASH值还可以通过<code>git reflog</code>命令通过查看HEAD移动推断出是哪个Commit。值得注意的是Reflog默认保留30天，所以30天内删除的分支还是可以找回来的</p>
<h2 id="使用Rebase合并分支"><a class="headerlink" href="#使用Rebase合并分支"></a>使用Rebase合并分支</h2>
<p>前面一节介绍了 <code>git merge</code> 命令来合并分支，现在介绍另一种方式<br>
假设目前的状态还是有两个分支基于 <code>master</code> 的分支 <code>dev1</code> 和 <code>dev2</code> 并分别提交了自己的Commit，现在在 <code>dev1</code> 分支上，现在需要合并分支：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git rebase dev2</span><br></pre></td></tr></table></figure>
<p><code>dev1</code> 和 <code>dev2</code> 原本都是基于 <code>master</code> 分支的。执行这段 命令后，就将 <code>dev1</code> 的参考基准指向了 <code>dev2</code>。<br>
假设 <code>dev1</code> 在 <code>master</code> 分支的基础上提交了3个Commit，<code>dev2</code> 在 <code>master</code> 分支的基础上提交了5个Commit，再执行了上述命令后，<code>dev1</code> 分支就领先了 <code>master</code> 3+5共8个Commit，前5个Commit依旧是 <code>dev2</code> 原本提交的Commit，后三个Commit来自于 之前的 <code>dev1</code>，但是Commit的HASH值于 <code>dev1</code> 原本提交的Commit的HASH值不同，效果上相当于在 <code>dev2</code> 上额外提交了三个Commit，并将 <code>dev1</code> 和 <code>HEAD</code> 移动到最新的Commit上</p>
<h2 id="合并时发生冲突"><a class="headerlink" href="#合并时发生冲突"></a>合并时发生冲突</h2>
<h3 id="发生冲突"><a class="headerlink" href="#发生冲突"></a>发生冲突</h3>
<p>只要不同的分支检测到同一文件同一行受到改动时就会出现冲突，假设在 <code>dev1</code> 分支上改动了 <code>index.html</code> 文件内容：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span> 首页 <span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">div</span>&gt;</span> 我是dev1分支 <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>然后在 <code>dev2</code> 分支上也改动了 <code>index.html</code>：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span> 首页 <span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">div</span>&gt;</span> 我是dev2分支 <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>这时不管是使用Merge和Rebase合并都会出现冲天</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git merge dev2</span><br><span class="line">Auto-merging index.html</span><br><span class="line">COFLICT (content): Merge conflict <span class="keyword">in</span> index.html</span><br><span class="line">Automatic merge faild;fix conflicts and <span class="keyword">then</span> commit the result.</span><br></pre></td></tr></table></figure>
<p>这时Git发现那个 <code>index.html</code> 出现问题了，这时查看一下当前的状态</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line">On branch dev1</span><br><span class="line">You have unmerge paths</span><br><span class="line">	(fix conflicts and run <span class="string">&quot;git commit&quot;</span>)</span><br><span class="line">	(use <span class="string">&quot;git merge --abort&quot;</span> to abort the merge)</span><br><span class="line">Change to be committed:</span><br><span class="line">	new file : dev2-1.html</span><br><span class="line">	new file : dev2-2.html</span><br><span class="line"></span><br><span class="line">Unmerged paths:</span><br><span class="line">	(use <span class="string">&quot;git add &lt;file&gt;...&quot;</span> to mark resolution)</span><br><span class="line">	</span><br><span class="line">both modofied:index.html</span><br></pre></td></tr></table></figure>
<p>这里有两点需要说明：</p>
<ol>
<li>对于 <code>dev1</code> 分支来说，<code>dev2-1.html</code> 和 <code>dev2-2.html</code> 都是加入的新文件，但已被放入暂存区</li>
<li>因为在 <code>dev1</code> 和 <code>dev2</code> 都对 <code>index.html</code> 的 同一行进行了改动，所以Git将其标记为 <code>both modified</code> 的状态</li>
</ol>
<h3 id="解决冲突"><a class="headerlink" href="#解决冲突"></a>解决冲突</h3>
<h4 id="Merge"><a class="headerlink" href="#Merge"></a>Merge</h4>
<p>查看 <code>index.html</code> 的文件内容：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span> 首页 <span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</span><br><span class="line">			<span class="tag">&lt;<span class="name">div</span>&gt;</span> 我是dev1分支 <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">=======</span><br><span class="line">			<span class="tag">&lt;<span class="name">div</span>&gt;</span> 我是dev2分支 <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&gt;&gt;&gt;&gt;&gt;&gt;&gt; dev2</span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>可以看到有两个分支的内容，现在决定使用dev1的内容，最后内容如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span> 首页 <span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">div</span>&gt;</span> 我是dev1分支 <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>改完后记得将内容提交回暂存区，并提交Commit：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git add index.html</span><br><span class="line">$ git commit -m <span class="string">&quot;conflict fixed&quot;</span></span><br></pre></td></tr></table></figure>
<h4 id="Rebase"><a class="headerlink" href="#Rebase"></a>Rebase</h4>
<p>使用Rebase进行合并：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase dev2</span><br></pre></td></tr></table></figure>
<p>如果遇到冲突，合并就会暂停，并且HEAD不会指向任何一个Commit，现在需要修复冲突的文件，然后提交文件到暂存区后继续合并：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git add index.html</span><br><span class="line">$ git rebase --<span class="built_in">continue</span></span><br><span class="line">Applying: update indexd</span><br></pre></td></tr></table></figure>
<p>至此，就完成了Rebase</p>
<h4 id="如果冲突的文件不是文本文件"><a class="headerlink" href="#如果冲突的文件不是文本文件"></a>如果冲突的文件不是文本文件</h4>
<p>因为上述的冲突文件 <code>index.html</code> 文件是文本文件，所以Git可以标记出冲突的位置，但如果冲突的文件是二进制文件又该如何解决？<br>
假设 <code>dev1</code> 和 <code>dev2</code> 都同时加入了一张叫 <code>background.png</code> 的图片，则合并时的冲突信息为：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git merge dev2</span><br><span class="line">warning: Cannot merge binary files: cute_animal.jpg (HEAD vs. dog)</span><br><span class="line">Auto-merging background.jpg</span><br><span class="line">CONFLICT (add/add): Merge conflict <span class="keyword">in</span> background.jpg</span><br><span class="line">Automatic merge failded;fix conflicts and <span class="keyword">then</span> commit thee result.</span><br></pre></td></tr></table></figure>
<p>如果决定采用 <code>HEAD</code> 的 <code>background.jpg</code> 的话：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout --our background.jpg</span><br></pre></td></tr></table></figure>
<p>如果决定采用 <code>dev2</code> 的 <code>background.jpg</code> 的话：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout --theirs background.jpg</span><br></pre></td></tr></table></figure>
<p>决定之后再像前面一样把内容加入到暂存区并提交Commit：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git add background.jpg</span><br><span class="line">$ git commit -m <span class="string">&quot;conflicts fixed&quot;</span></span><br></pre></td></tr></table></figure>
<h2 id="从过去的某一Commit创建新分支"><a class="headerlink" href="#从过去的某一Commit创建新分支"></a>从过去的某一Commit创建新分支</h2>
<h3 id="回到过去重新开始"><a class="headerlink" href="#回到过去重新开始"></a>回到过去重新开始</h3>
<p>先通过git记录找到需要回去的Commit，切换过去并创建分支：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span></span><br><span class="line">...</span><br><span class="line">$ git checkout <span class="string">&#x27;657fce7&#x27;</span></span><br><span class="line">$ git checkout -b past_commit</span><br></pre></td></tr></table></figure>
<p>然后就在 <code>657fce7</code> 这个Commit上创建了一个名为 <code>past_commit</code> 的分支</p>
<h3 id="一步到位"><a class="headerlink" href="#一步到位"></a>一步到位</h3>
<p>如果你实现就知道是Commit的HASH值就可以用下面的命令一步到位：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch past_commit 657fce7</span><br></pre></td></tr></table></figure>
<h1 id="修改历史记录"><a class="headerlink" href="#修改历史记录"></a>修改历史记录</h1>
<h2 id="修改历史Commit信息"><a class="headerlink" href="#修改历史Commit信息"></a>修改历史Commit信息</h2>
<p>在之前历史信息，在5.6节讲过可以使用<code>--amend</code>参数来修改最后Commit的信息，但仅限于最后一次，如果要改动其他更早的形象，就需要使用其他方式<br>
之间介绍过通过<code>git rebase</code>来合并分支，其实<code>git rebase</code>是一个强大的互动模式，接下来的几节内容都是介绍怎么使用这种模式改动历史记录</p>
<h3 id="启动互动模式"><a class="headerlink" href="#启动互动模式"></a>启动互动模式</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git rebase -i bb0c9c2</span><br></pre></td></tr></table></figure>
<p>这段命令种的<code>-i</code>参数是指进入Rebase指令的“互动模式”，后面的<code>bb0c9c2</code>指的是从现在这个Commit回到<code>bb0c9c2</code>这个Commit，可以修改中间若干个Commit的信息<br>
此时会弹出一个Vim编辑器，中间有若干个Commit的形象，前面的<code>pick</code>表示“保留这次Commit，不做改动”，找到需要改动的Commit，把前面的<code>pick</code>改成<code>reword</code>，表示要改动这几次Commit的信息，保存修改后会立即弹出另一个Vim，在这里就可以修改之前的Commit信息了</p>
<h3 id="修改Commit信息后的其他影响"><a class="headerlink" href="#修改Commit信息后的其他影响"></a>修改Commit信息后的其他影响</h3>
<p>虽然只是修改了Commit信息，但只要调出Git日志就可以发现，修改过信息Commit的HASH值都改变了，已经是一个全新的Commit对象了</p>
<h3 id="取消这次Rebase"><a class="headerlink" href="#取消这次Rebase"></a>取消这次Rebase</h3>
<p>如果想放弃这次对Commit的修改，只需要使用之前介绍过的<code>ORIG_HEAD</code>就好：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git reset ORIG_HEAD --hard</span><br></pre></td></tr></table></figure>
<h2 id="将多个Commit合并"><a class="headerlink" href="#将多个Commit合并"></a>将多个Commit合并</h2>
<p>有时候Cimmit太过“琐碎”，例如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline</span><br><span class="line">37646cd (HEAD -&gt; master) add dog 2</span><br><span class="line">c90b00f add dog 1</span><br><span class="line">0d40e75 add 2 cats</span><br><span class="line">507780e add <span class="built_in">cat</span> 2</span><br><span class="line">5d52302 add <span class="built_in">cat</span> 1</span><br><span class="line">d943a01 add database settings</span><br><span class="line">5944ffd init commit</span><br></pre></td></tr></table></figure>
<p><code>5d52302</code>和<code>507780e</code>两个Commit上各添加了一个文件（分别是<code>cat1.html</code>和<code>cat2.html</code>）类似的<code>c90b00f</code>和<code>37646cd</code>也各添加了两个Commit，也可也使用<code>git rebase</code>将这几个Commit合并为一起，可以让Commit看起来更加简洁：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git rebase -i 5944ffd</span><br><span class="line">pick d943a01 add database settings</span><br><span class="line">pick 5d52302 add <span class="built_in">cat</span> 1</span><br><span class="line">pick 507780e add <span class="built_in">cat</span> 2</span><br><span class="line">pick 0d40e75 add 2 cats</span><br><span class="line">pick c90b00f add dog 1</span><br><span class="line">pick 37646cd add dog 2</span><br></pre></td></tr></table></figure>
<p>将需要合并的Commit的<code>pick</code>修改成<code>squash</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">pick d943a01 add database settings</span><br><span class="line">pick 5d52302 add <span class="built_in">cat</span> 1</span><br><span class="line">squash 507780e add <span class="built_in">cat</span> 2</span><br><span class="line">squash 0d40e75 add 2 cats</span><br><span class="line">pick 3c90b00f add dog 1</span><br><span class="line">squash 37646cd add dog 2</span><br></pre></td></tr></table></figure>
<p>上面的改动代表了下面这两件事：</p>
<ul>
<li><code>add dog 2</code>会与上一个前一个Commit合并，即<code>3c90b00f</code>与<code>37646cd</code>合并</li>
<li><code>add 2 cats</code>、<code>add cat 2</code>、<code>add cat 1</code>这三个Commit会合并<br>
简单来说，<code>squash</code>会和前一个Commit合并<br>
保存Vim的编辑后，会弹出另一个Vim编辑窗口，重新编辑一下新合并的Commit信息</li>
</ul>
<h2 id="将一个Commit拆成多个Commit"><a class="headerlink" href="#将一个Commit拆成多个Commit"></a>将一个Commit拆成多个Commit</h2>
<p>与上节相反，有时觉得单词Commit的文件太多了，可能就会想这拆解得更细点，下面是当前的历史记录：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline</span><br><span class="line">37646cd (HEAD -&gt; master) add dog 2</span><br><span class="line">c90b00f add dog 1</span><br><span class="line">0d40e75 add 2 cats</span><br><span class="line">507780e add <span class="built_in">cat</span> 2</span><br><span class="line">5d52302 add <span class="built_in">cat</span> 1</span><br><span class="line">d943a01 add database settings</span><br><span class="line">5944ffd init commit</span><br></pre></td></tr></table></figure>
<p><code>0d40e75</code>这个Commit提交了两个文件<br>
还是使用<code>rebase</code>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git rebase -i 5944ffd</span><br><span class="line">pick d943a01 add database settings</span><br><span class="line">pick 5d52302 add <span class="built_in">cat</span> 1</span><br><span class="line">pick 507780e add <span class="built_in">cat</span> 2</span><br><span class="line">pick 0d40e75 add 2 cats</span><br><span class="line">pick c90b00f add dog 1</span><br><span class="line">pick 37646cd add dog 2</span><br></pre></td></tr></table></figure>
<p>我们需要把<code>0d40e75</code>拆成多个Commit，只需要把<code>pick</code>改成<code>edit</code><br>
然后Rebase在执行到<code>0d40e75</code>这个Commit后会在暂停下来，因为需要将当前这个Commit拆成两个Commit，所以先要回到上一个Commit：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git reset HEAD^</span><br></pre></td></tr></table></figure>
<p>然后就可以看到原本<code>0d40e75</code>添加的两个文件<code>cat3.html</code>和<code>cat4.html</code>都放在了工作目录中，并且处于<code>Untracked未追踪</code>的状态，所以现在只需要分别提交Commit即可：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git add cat3.html</span><br><span class="line">$ git commit -m <span class="string">&quot;add cat 3&quot;</span></span><br><span class="line">$ git add cat4.html</span><br><span class="line">$ git commit -m <span class="string">&quot;add cat 4&quot;</span></span><br></pre></td></tr></table></figure>
<p>添加完后只需要让Rebase继续执行即可：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git rebase --<span class="built_in">continue</span></span><br></pre></td></tr></table></figure>
<h2 id="插入Commit"><a class="headerlink" href="#插入Commit"></a>插入Commit</h2>
<p>有些时候可能需要在某些Commit中间插入其他的Commit，这个技巧其实和上一个拆分Commit的方法很像。假设当前的历史记录如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline</span><br><span class="line">37646cd (HEAD -&gt; master) add dog 2</span><br><span class="line">c90b00f add dog 1</span><br><span class="line">0d40e75 add 2 cats</span><br><span class="line">507780e add <span class="built_in">cat</span> 2</span><br><span class="line">5d52302 add <span class="built_in">cat</span> 1</span><br><span class="line">d943a01 add database settings</span><br><span class="line">5944ffd init commit</span><br></pre></td></tr></table></figure>
<p>然后Rebase：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git rebase -i 5944ffd</span><br><span class="line">pick d943a01 add database settings</span><br><span class="line">pick 5d52302 add <span class="built_in">cat</span> 1</span><br><span class="line">pick 507780e add <span class="built_in">cat</span> 2</span><br><span class="line">pick 0d40e75 add 2 cats</span><br><span class="line">pick c90b00f add dog 1</span><br><span class="line">pick 37646cd add dog 2</span><br></pre></td></tr></table></figure>
<p>假设需要在<code>add 2 cats</code>和<code>add dog 1</code>之间插入其他的Commit，则将<code>add 2 cats</code>的<code>pick</code>改成<code>edit</code>，保存后等待Rebase运行到<code>0d40e75</code>后插入Commit：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">touch</span> bird1.html</span><br><span class="line">$ git add bird1.html</span><br><span class="line">$ git commit -m <span class="string">&quot;add bird 1&quot;</span></span><br></pre></td></tr></table></figure>
<p>然后继续刚刚中断的Rebase：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git rebase --<span class="built_in">continue</span></span><br></pre></td></tr></table></figure>
<h2 id="调整Commit顺序"><a class="headerlink" href="#调整Commit顺序"></a>调整Commit顺序</h2>
<p>假设当前Commit记录如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline</span><br><span class="line">37646cd (HEAD -&gt; master) add dog 2</span><br><span class="line">c90b00f add dog 1</span><br><span class="line">0d40e75 add 2 cats</span><br><span class="line">507780e add <span class="built_in">cat</span> 2</span><br><span class="line">5d52302 add <span class="built_in">cat</span> 1</span><br><span class="line">d943a01 add database settings</span><br><span class="line">5944ffd init commit</span><br></pre></td></tr></table></figure>
<p>我们需要把所有<code>cat</code>的记录都移动到<code>dog</code>之后，还是使用Rebase：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git rebase -i 5944ffd</span><br><span class="line">pick d943a01 add database settings</span><br><span class="line">pick 5d52302 add <span class="built_in">cat</span> 1</span><br><span class="line">pick 507780e add <span class="built_in">cat</span> 2</span><br><span class="line">pick 0d40e75 add 2 cats</span><br><span class="line">pick c90b00f add dog 1</span><br><span class="line">pick 37646cd add dog 2</span><br></pre></td></tr></table></figure>
<p>然后修改Commit顺序，<strong>在Rebase状态下越新的Commit记录越在下方</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">pick d943a01 add database settings</span><br><span class="line">pick c90b00f add dog 1</span><br><span class="line">pick 37646cd add dog 2</span><br><span class="line">pick 5d52302 add cat 1</span><br><span class="line">pick 507780e add cat 2</span><br><span class="line">pick 0d40e75 add 2 cats</span><br></pre></td></tr></table></figure>
<p>保存离开后就调整好Commit的顺序了</p>
<h2 id="删除Commit"><a class="headerlink" href="#删除Commit"></a>删除Commit</h2>
<p>假设当前Commit记录如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline</span><br><span class="line">37646cd (HEAD -&gt; master) add dog 2</span><br><span class="line">c90b00f add dog 1</span><br><span class="line">0d40e75 add 2 cats</span><br><span class="line">507780e add <span class="built_in">cat</span> 2</span><br><span class="line">5d52302 add <span class="built_in">cat</span> 1</span><br><span class="line">d943a01 add database settings</span><br><span class="line">5944ffd init commit</span><br></pre></td></tr></table></figure>
<p>我们需要把所有<code>dog</code>的Commit删除，还是使用Rebase：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git rebase -i 5944ffd</span><br><span class="line">pick d943a01 add database settings</span><br><span class="line">pick 5d52302 add <span class="built_in">cat</span> 1</span><br><span class="line">pick 507780e add <span class="built_in">cat</span> 2</span><br><span class="line">pick 0d40e75 add 2 cats</span><br><span class="line">pick c90b00f add dog 1</span><br><span class="line">pick 37646cd add dog 2</span><br></pre></td></tr></table></figure>
<p>然后把<code>dog</code>前面的<code>pick</code>修改成<code>drop</code>或者也可也直接删掉</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">pick d943a01 add database settings</span><br><span class="line">pick 5d52302 add <span class="built_in">cat</span> 1</span><br><span class="line">pick 507780e add <span class="built_in">cat</span> 2</span><br><span class="line">pick 0d40e75 add 2 cats</span><br><span class="line">drop c90b00f add dog 1</span><br><span class="line">drop 37646cd add dog 2</span><br></pre></td></tr></table></figure>
<p>保存离开后就已经删除<code>dog</code>了</p>
<h1 id="标签"><a class="headerlink" href="#标签"></a>标签</h1>
<h2 id="开始使用标签"><a class="headerlink" href="#开始使用标签"></a>开始使用标签</h2>
<h3 id="标签是什么"><a class="headerlink" href="#标签是什么"></a>标签是什么</h3>
<p>在Git中，标签（Tag）是一个指向某个Commit的指示标，这看起来好像与分支（Branch）有些类似</p>
<h3 id="什么时候使用标签"><a class="headerlink" href="#什么时候使用标签"></a>什么时候使用标签</h3>
<p>通常在软件开发时会完成特定的“里程碑”，如软件版本号<code>1.0.0</code>或<code>beta-release</code>之类的，在这种时候就很适合用标签做标记</p>
<h3 id="标签的分类"><a class="headerlink" href="#标签的分类"></a>标签的分类</h3>
<p>标签有<code>轻量标签（lightweight tag）</code>和<code>附注标签（annotated tag）</code>两种标签。无论是哪一种标签，都是可以把它当作贴纸贴在某一个Commit上</p>
<h4 id="轻量标签（lightweight-tag）"><a class="headerlink" href="#轻量标签（lightweight-tag）"></a>轻量标签（lightweight tag）</h4>
<p>轻量标签的使用方法想当简单，只需要指定要贴上去的那个Commit即可。<br>
假设当前Commit记录如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline</span><br><span class="line">c01c8f9 (HEAD -&gt; master) add fish</span><br><span class="line">77699f9 add pig</span><br><span class="line">7b6d9d0 add lion and tiger</span><br><span class="line">94ac80e add dog 2</span><br><span class="line">104f368 add dog 1</span><br><span class="line">41fa9bd add 2 cats</span><br><span class="line">4794059 add <span class="built_in">cat</span> 2</span><br><span class="line">b7a4276 add <span class="built_in">cat</span> 1</span><br><span class="line">7ee7098 add database settings</span><br><span class="line">a9d6d5f init commit</span><br></pre></td></tr></table></figure>
<p>如果需要在<code>add lion and tiger</code>这个Commit上贴一个<code>big_cats</code>的标签，可以使用如下命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git  tag big_cats 7b6d9d0</span><br></pre></td></tr></table></figure>
<p>这样标签就贴好了，再次查看一下记录：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline</span><br><span class="line">c01c8f9 (HEAD -&gt; master) add fish</span><br><span class="line">77699f9 add pig</span><br><span class="line">7b6d9d0 (tag: big_cats) add lion and tiger</span><br><span class="line">94ac80e add dog 2</span><br><span class="line">104f368 add dog 1</span><br><span class="line">41fa9bd add 2 cats</span><br><span class="line">4794059 add <span class="built_in">cat</span> 2</span><br><span class="line">b7a4276 add <span class="built_in">cat</span> 1</span><br><span class="line">7ee7098 add database settings</span><br><span class="line">a9d6d5f init commit</span><br></pre></td></tr></table></figure>
<p>可以看到<code>big_cats</code>这个标签指向了<code>7b6d9d0</code>这个Commit</p>
<h4 id="附注标签（annotated-tag）"><a class="headerlink" href="#附注标签（annotated-tag）"></a>附注标签（annotated tag）</h4>
<p>如果需要为<code>add lion and tiger</code>这个Commit添加一个附注标签，则可以使用下面这段命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git tag big_cats 7b6d9d0 -a -m <span class="string">&quot;Big Cats are coming&quot;</span></span><br></pre></td></tr></table></figure>
<p>其中参数<code>-a</code>代表让Git创建一个附注标签，后面的参数<code>-m</code>类似于提交Commit时的<code>-m</code>，如果没有<code>-m</code>则会弹出一个Vim编辑器去修改信息</p>
<h3 id="两种标签的区别"><a class="headerlink" href="#两种标签的区别"></a>两种标签的区别</h3>
<p>在Git官方文档中对这两种标签也有相应说明，Git官方推荐将轻量标签用于个人使用或是暂时标记；而附注标签主要用作软件版本号。<br>
此外两种标签的信息也不同，可以通过以下命令查看信息：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git show big_cats</span><br></pre></td></tr></table></figure>
<p>可以发现附注标签比轻量标签多一些信息，可以清楚地看到是谁在什么时候贴了这张标签</p>
<h3 id="删除标签"><a class="headerlink" href="#删除标签"></a>删除标签</h3>
<p>不管是哪一种标签，其本质都类似于一张帖子，撕掉一张贴纸并不会删除Commit或者文档，只需要一个参数<code>-d</code>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git tag -d big_cats</span><br></pre></td></tr></table></figure>
<h2 id="标签与分支有什么区别"><a class="headerlink" href="#标签与分支有什么区别"></a>标签与分支有什么区别</h2>
<p>标签和分支的区别是，分支会随着Commit移动，但标签不会。在之前的章节介绍过，当Git往前推进一个Commit时，它所在的分支会跟着向前移动；但标签一旦贴上去，无论Commit怎么前进，标签都不会移动。因此分支可以看成是可以移动的标签</p>
<h1 id="其他一些冷知识"><a class="headerlink" href="#其他一些冷知识"></a>其他一些冷知识</h1>
<h2 id="临时切换到其他任务"><a class="headerlink" href="#临时切换到其他任务"></a>临时切换到其他任务</h2>
<h3 id="Commit当前进度"><a class="headerlink" href="#Commit当前进度"></a>Commit当前进度</h3>
<p>假设当前在<code>dev</code>分支开发项目，但是<code>main</code>分支出现问题，需要修复，可以先在<code>dev</code>分支上提交一个Commit然后切换回<code>main</code>分支：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git add .</span><br><span class="line">$ git commit - <span class="string">&quot;还未完成&quot;</span></span><br><span class="line">$ git checkout main</span><br></pre></td></tr></table></figure>
<p>当<code>main</code>分支的问题修复完后，需要继续回到<code>dev</code>分支继续开发未完成的项目：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout dev</span><br><span class="line">$ git reset HEAD^</span><br></pre></td></tr></table></figure>
<p>然后即可以看到之前未完成的文件了</p>
<h3 id="使用Stash"><a class="headerlink" href="#使用Stash"></a>使用Stash</h3>
<h4 id="保存Stash"><a class="headerlink" href="#保存Stash"></a>保存Stash</h4>
<p>刚刚这种情况除了提交Commit还可以用Stash。<br>
先查看一下当前的状态：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br></pre></td></tr></table></figure>
<p>就可看到哪些文件有修改<br>
然后利用<code>stash</code>将修改的地方暂存起来：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git stash</span><br><span class="line"><span class="comment"># PS：未追踪Untrack状态的文件无法被默认的stash保存，需要添加参数-u</span></span><br><span class="line">$ git stash -u</span><br></pre></td></tr></table></figure>
<p>然后可以查看一下刚刚保存起来的文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git stash list</span><br><span class="line">stash@(0): WIP on dev: b174a5a add 2 files</span><br></pre></td></tr></table></figure>
<p>最前面的<code>stash@(0)</code>就是这个Stash的代名词，你也可以像其中添加多个Stash；后面的<code>WIP</code>就是<code>Work In Progress</code>的缩写，即工作进行中。<br>
然后就可以切换回主分支修复问题了。</p>
<h4 id="应用并删除Stash"><a class="headerlink" href="#应用并删除Stash"></a>应用并删除Stash</h4>
<p>问题修复完成后，现在需要继续进行刚刚的工作：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git stash pop stash@(0)</span><br></pre></td></tr></table></figure>
<p>需要注意一下三点：</p>
<ul>
<li>使用<code>pop</code>指令相当于把Stash拿出来并套在了当前的分支上，所以需要考虑是否切换回原本的<code>dev</code>分支。</li>
<li>如果<code>pop</code>没有指定哪一个Stash，则会选择数值最小的Stash</li>
<li>套用Stash成功后，那个被套用的Stash就会自动删除</li>
</ul>
<h4 id="删除Stash"><a class="headerlink" href="#删除Stash"></a>删除Stash</h4>
<p>如果某些Stash确定不需要了，可以使用<code>drop</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git stash drop stash@(1)</span><br></pre></td></tr></table></figure>
<h3 id="应用Stash"><a class="headerlink" href="#应用Stash"></a>应用Stash</h3>
<p>把Stash捡回来，除了<code>pop</code>还有一个就是<code>apply</code>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git stash apply stash@(2)</span><br></pre></td></tr></table></figure>
<p><code>apply</code>和<code>pop</code>类似，还是把Stash套在当前的分支上，不同的是，<code>apply</code>并不会删除已经被套用的Stash。<br>
可以把<code>pop</code>理解成<code>apply</code>+<code>drop</code></p>
<h1 id="使用Github"><a class="headerlink" href="#使用Github"></a>使用Github</h1>
<h2 id="Github概述"><a class="headerlink" href="#Github概述"></a>Github概述</h2>
<h3 id="Github是什么"><a class="headerlink" href="#Github是什么"></a>Github是什么</h3>
<p>Github是一个商业网站，是当前全球最大的的Git服务器，在这里可以和许多国内外开发者交朋友，既可以为他人项目贡献自己的力量，也可也为自己的项目寻求他人帮助。<br>
同时，他也是开发者最好的履历展示平台，你曾经做过哪些专案和贡献，做出什么的贡献都一目了然，想要造假也非常难</p>
<h3 id="Github和Git的区别"><a class="headerlink" href="#Github和Git的区别"></a>Github和Git的区别</h3>
<p>Github是网站，而Git是工具。Github本体是一个基于Ruby on Rails开发的Git服务器</p>
<h2 id="将内容Push到Github上"><a class="headerlink" href="#将内容Push到Github上"></a>将内容Push到Github上</h2>
<h3 id="在Github上创建新仓库"><a class="headerlink" href="#在Github上创建新仓库"></a>在Github上创建新仓库</h3>
<p>想要将自己的文件上传到Github中，先需要创建一个自己的仓库存放自己的文件，打开Github官网，点击右上角的<code>+</code>选择<code>New repository</code>，接着就是填写仓库名称，有两点需要说明：</p>
<ol>
<li>仓库名称可以任意填写，但不能重复</li>
<li>仓库可以选择<code>公开（Public）</code>或者<code>私人（Private）</code></li>
</ol>
<p>创建完成后就会跳转到刚刚创建的空仓库以及Gitub给出的提示。假设我们需要开启一个新的项目，首先需要创建一个<code>README.md</code>文件用于Github<br>
项目的默认说明页面，后缀名<code>md</code>代表了采用MarkDown语法，感兴趣的朋友可以阅读我这一篇博客快速上手<a href="https://blog.akimio.top/posts/1003/">MarkDown入门教程</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="string">&quot;# My First Github Repository&quot;</span> &gt; README.md</span><br></pre></td></tr></table></figure>
<p>然后就是初始化Git并提交Commit:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git init</span><br><span class="line">$ git add README.md</span><br><span class="line">$ git commit -m <span class="string">&quot;First Commit&quot;</span></span><br></pre></td></tr></table></figure>
<p>接下来就是链接我们在Github的远程仓库</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git remote add origin git@github.com:Akimio521/MyGit</span><br></pre></td></tr></table></figure>
<p>下面是几个参数说明：</p>
<ul>
<li><code>git remote</code>主要进行与远端有关的操作</li>
<li><code>add</code>代表添加一个远端节点</li>
<li><code>origin</code>是一个代名词，指代后面的服务器地址，按照惯例，远端节点默认使用<code>origin</code>这个名称，如果是从服务器Clone下来的仓库，其默认的名称是<code>origin</code>。当然，要是不喜欢的话也可也改成其他的名字</li>
<li><code>Akimio521/MyGit</code>是我刚刚在Github上新创建的仓库，其中<code>Akimio521</code>是我Github的名称，<code>MyGit</code>是我的仓库名<br>
接下来就准备把刚刚提交的Commit推送（Push）到Github中：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push -u origin master</span><br></pre></td></tr></table></figure>
<p>简答的Push命令其实主要做了下面几件事：</p>
<ul>
<li>把<code>master</code>分支的内容推送（Push）到origin这个远程节点（服务器）上</li>
<li>如果在<code>origin``master</code>这个分支，就会新建一个名为<code>master</code>的分支的仓库中不存在</li>
<li>如果在<code>origin</code>的仓库中存在<code>master</code>这个分支，就会将<code>master</code>的分支标签移动到最新的Commit上</li>
<li><code>-u</code>就是<code>upstream</code>，关于这个参数的含义会在后续说明<br>
如果你理解了上面这个命令，可以尝试将<code>dev</code>这个分支推送到<code>MyGitlab</code>这个远程节点上：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push MyGitlab dev</span><br></pre></td></tr></table></figure>
<h3 id="upstream是什么意思"><a class="headerlink" href="#upstream是什么意思"></a>upstream是什么意思</h3>
<p>简单来说，upstream就是设置一个默认的推送位置，只要第一次使用了<code>git push -u origin master</code>后，之后想要将<code>master</code>推送到<code>origin</code>节点只需要使用<code>git push</code>这个命令</p>
<h3 id="如果想要不同的分支名"><a class="headerlink" href="#如果想要不同的分支名"></a>如果想要不同的分支名</h3>
<p>之前介绍的命令<code>git push origin master</code>其实也是一个缩写的命令，完整的写法是<code>git push origin master:master</code>，含义为将本地的<code>master</code>分支推送到<code>origin</code>中的<code>master</code>分支，如果想要推送到Github的<code>main</code>分支，就可以用下面的命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin master:main</span><br></pre></td></tr></table></figure>
<h2 id="Pull下载更新"><a class="headerlink" href="#Pull下载更新"></a>Pull下载更新</h2>
<p>在上一节介绍了如何将本地更新的内容推送（Push）到远程节点；这一节将介绍如何将远程的更新拉取（Pull）回本地。但在介绍<code>Pull</code>前，还需要了解一下<code>Petch</code></p>
<h3 id="什么是Petch"><a class="headerlink" href="#什么是Petch"></a>什么是Petch</h3>
<p>假设目前本地仓库是目前最新的Commit的是<code>8c3a0a5</code>，远程的仓库已领先一个Commit<code>85e848b</code>执行<code>git fetch</code>后就可以看到Commit<code>85e848b</code>的内容被拉取下来了，但多了两个分支，<code>origin/master</code>和<code>origin/HEAED</code>，这两个分支都指向<code>85e848b</code>这个Commit，而<code>master</code>和<code>HEAD</code>都指向原本的<code>8c3a0a5</code>这个Commit。<br>
但无论是<code>master</code>还是<code>origin/master</code>都是从同一个分支发展的，，所以可以将<code>origin/master</code>合并到<code>master</code>上：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git merge origin/master</span><br></pre></td></tr></table></figure>
<h3 id="Pull指令"><a class="headerlink" href="#Pull指令"></a>Pull指令</h3>
<p>看完上面对<code>git fetch</code>的解释，那么理解<code>git pull</code>就很简单了：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git pull = git fetch + git merge</span><br></pre></td></tr></table></figure>
<h3 id="Pull-Rebase"><a class="headerlink" href="#Pull-Rebase"></a>Pull+Rebase</h3>
<p>现在知道了<code>Pull = Fetch + Merge</code>，在之前的章节提到，合并不仅只有<code>Merge</code>这一个方法，还可以使用<code>Rebase</code>，在<code>git pull</code>也可以使用<code>Reabse</code>这个方法合并：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git pull -rebase</span><br></pre></td></tr></table></figure>
<h2 id="Push失败"><a class="headerlink" href="#Push失败"></a>Push失败</h2>
<p>在多人开发时这个问题挺常见的，原因就是当前仓库的版本领先于本地的内容，所以需要先更新本地内容再推送：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git pull -rebase</span><br><span class="line">$ git push</span><br></pre></td></tr></table></figure>
<h2 id="提交PullRequest"><a class="headerlink" href="#提交PullRequest"></a>提交PullRequest</h2>
<h3 id="什么是PR"><a class="headerlink" href="#什么是PR"></a>什么是PR</h3>
<p>在Github上有许多有趣的开源项目，许多热心的人会前来帮忙，但是一般项目的原作者不会直接开放原仓库的权限给一个陌生人，因此引申出PR这个机制：</p>
<ol>
<li>先复制（Fork）原项目的仓库到自己的账号下</li>
<li>因为已经复制到自己的账号下，所以拥有完整的权限，可以对仓库内容进行修改</li>
<li>修改完成后，将自己账号下的仓库推送（Push）上去</li>
<li>发个通知给原作者，让原作者知道你做了修改</li>
<li>如果原作者觉得你的改动可以，就会合并（Merge）到原仓库中</li>
</ol>
<h2 id="跟上项目进度"><a class="headerlink" href="#跟上项目进度"></a>跟上项目进度</h2>
<p>如果在提交PR前，有其他人也抢先一步提交了PR并且原作者也接受了，那么该仓库的进度就会领先于自己账号下的仓库进度，想要提交PR的话就先要让自己的仓库跟上进度，目前Github上没有提供相应的功能，但是这里有两个方法达成这个目的</p>
<h3 id="强制同步"><a class="headerlink" href="#强制同步"></a>强制同步</h3>
<p>如果是Fork别人的仓库，在Fork过来的仓库中会有一个<code>Sync Fork</code>的按钮，这个按钮是强制同步，原理就算删掉仓库再重写Fork一次，这样保证的是版本是最新版，但是会丢失原本仓库中自己提交的内容</p>
<h3 id="跟上游同步"><a class="headerlink" href="#跟上游同步"></a>跟上游同步</h3>
<p>这个算是比较正统的做法，将作者的项目设为上游项目，Fetch下来后再手动合并<br>
假设我有一个仓库是Fork其他人的，并且我将其Pull到本地，现在需要添加远端节点：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git remote add dummy-kao https://github.com/kaochenlong/dummy-kao</span><br></pre></td></tr></table></figure>
<p>这样就新增了一个名为<code>dummy-kao</code>的远程节点指向作者的原仓库，然后获取原仓库最新的内容：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git fetch dummy-kao</span><br></pre></td></tr></table></figure>
<p>然后将最新的版本合并进自己的版本（Merge和Rebase都行）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git merge dummy-kao/master</span><br></pre></td></tr></table></figure>
<p>这样，本机进度就和原项目的进度一致了，如果你希望Github上Fork的那个仓库也保持最新的进度话只需要推送上去就行了：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin master</span><br></pre></td></tr></table></figure>
<h1 id="尾声"><a class="headerlink" href="#尾声"></a>尾声</h1>
<p>至此，Git大部分内容已经介绍完毕，剩下的内容需要在实践中亲自探索了。若文章中有疏漏，欢迎指出。</p>
</article><div class="post-copyright"><div class="post-copyright__author_group"><a class="post-copyright__author_img" href="/about/"><img class="post-copyright__author_img_front" data-lazy-src="https://img.akimio.top/avatar/akimio.png"></a><div class="post-copyright__author_name">秋澪的博客</div><div class="post-copyright__author_desc">Akimio blog</div></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div id="quit-box" onclick="RemoveRewardMask()"></div><div class="reward-link mode"><a class="reward-link-button" href="/rss2.xml" title="订阅"><i class="scoicon sco-plant-fill"></i>订阅</a></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本文是原创文章，采用<a target="_blank" rel="noopener external nofollow noreferrer" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">CC BY-NC-SA 4.0</a>协议，完整转载请注明来自<a href="/">秋澪的博客</a></span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%95%99%E7%A8%8B/"><span class="tags-punctuation"></span>教程<span class="tagsPageCount">29</span></a><a class="post-meta__tags" href="/tags/Git/"><span class="tags-punctuation"></span>Git<span class="tagsPageCount">1</span></a></div></div></div><nav class="needEndHide pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/1027/"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">将M.2固态硬盘设为群晖存储池</div></div></a></div><div class="next-post pull-right"><a href="/posts/1025/"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">利用Ventoy打造最强硬盘</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="scoicon sco-star-smile-fill"></i><span>喜欢这篇的人也看了</span><div class="relatedPosts-link"><a onclick="event.preventDefault(); toRandomPost();" href="javascript:void(0);" rel="external nofollow" data-pjax-state="">随便逛逛</a></div></div><div class="relatedPosts-list"><div><a href="/posts/1037/" title="Fcricle踩坑记录"><img class="cover" data-lazy-src="https://img.akimio.top/Blog/2024/02/1708526274-65d60ac227ba2.webp" alt="cover"><div class="content is-center"><div class="title">Fcricle踩坑记录</div></div></a></div><div><a href="/posts/1035/" title="利用CloudFlare搭建镜像站"><img class="cover" data-lazy-src="https://img.akimio.top/Blog/2024/01/1705389355-65a62d2b0759a.webp" alt="cover"><div class="content is-center"><div class="title">利用CloudFlare搭建镜像站</div></div></a></div></div></div><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="scoicon sco-chat-fill"></i><span> 评论</span><span></span></div><div class="comment-randomInfo"><a onclick="sco.addRandomCommentInfo()" href="javascript:void(0)" rel="external nofollow noreferrer">匿名评论</a></div><div class="comment-tips" id="comment-tips"><span>✅ 你无需删除空行，直接评论以获取最佳展示效果</span></div></div><div class="comment-wrap"><div id="comment"></div><script>async function initComment() {
    var initOptions = Object.assign(
        {"envId":"https://twikoo.akimio.top/.netlify/functions/twikoo","lang":"zh-CN","accessToken":null},
        {
            el: '#comment',
            onCommentLoaded: function () {
                GLOBAL_CONFIG.lightbox && utils.lightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
            },
            lang: 'zh-CN',
        }
    )
    await twikoo.init(initOptions)
    if (true) {
        var countOptions = Object.assign(
            {"envId":"https://twikoo.akimio.top/.netlify/functions/twikoo","lang":"zh-CN","accessToken":null},
            {
                urls: [window.location.pathname],
                includeReply: false
            }
        )
        const res = await twikoo.getCommentsCount(countOptions)
        try {
            document.getElementById('twikoo-count').innerText = res[0].count
            document.querySelector('.comment-headline span:last-child').innerText = ` (${res[0].count})`
        } catch (e) {
            document.getElementById('twikoo-count').innerText = '加载错误'
        }
    }
}</script></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><div class="author-info__top-group"><div class="author-info__sayhi" id="author-info__sayhi" onclick="sco.changeSayHelloText()">sayhello.morning</div></div></div><div class="avatar-img-group"><img class="avatar-img" alt="头像" data-lazy-src="https://img.akimio.top/avatar/akimio.png"><div class="avatar-sticker"><img class="avatar-sticker-img" data-lazy-src="https://bu.dusays.com/2023/12/30/659011053e246.png" alt="心情贴纸"></div></div><div class="author-info__description_group"><div class="author-info__description"><b>一只喜欢七彩球的枯叶蝶</b></div><div class="author-info__description2">原博客地址：<b>blog.zuilang.tk</b></div></div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/about/"><div class="author-info__name">秋澪</div><div class="author-info__desc">Akimio blog</div></a><div class="card-info-social-icons is-center"><a class="social-icon" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/Akimio" title="Github"><i class="scoicon scoicon sco-github-line"></i></a><a class="social-icon" target="_blank" rel="noopener external nofollow noreferrer" href="https://space.bilibili.com/35466886" title="Bilibili"><i class="scoicon scoicon sco-bilibili-line"></i></a></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="scoicon sco-menu-line"></i><span>文章目录</span></div><div class="toc-content" id="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Git%E5%85%A5%E9%97%A8"><span class="toc-text">Git入门</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFGit"><span class="toc-text">什么是Git</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Git%E7%9A%84%E4%BC%98%E7%82%B9"><span class="toc-text">Git的优点</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9F%E5%BA%A6%E5%9D%97%EF%BC%8C%E5%8D%A0%E7%94%A8%E4%BD%93%E7%A7%AF%E5%B0%8F"><span class="toc-text">速度块，占用体积小</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F"><span class="toc-text">分布式系统</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Git%E7%9A%84%E7%BC%BA%E7%82%B9"><span class="toc-text">Git的缺点</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%98%93%E5%AD%A6%E9%9A%BE%E7%B2%BE"><span class="toc-text">易学难精</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6%E7%9A%84%E6%97%A0%E5%A5%88"><span class="toc-text">二进制文件的无奈</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85"><span class="toc-text">环境安装</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Windows"><span class="toc-text">Windows</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Mac"><span class="toc-text">Mac</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux"><span class="toc-text">Linux</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95Git%E6%98%AF%E5%90%A6%E6%88%90%E5%8A%9F%E5%AE%89%E8%A3%85"><span class="toc-text">测试Git是否成功安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%BE%E5%83%8F%E7%95%8C%E9%9D%A2%E5%B7%A5%E5%85%B7"><span class="toc-text">图像界面工具</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AEGit"><span class="toc-text">设置Git</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E8%AE%BE%E7%BD%AE"><span class="toc-text">用户设置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E4%B8%AA%E9%A1%B9%E7%9B%AE%E7%94%A8%E6%88%B7%E8%AE%BE%E7%BD%AE"><span class="toc-text">单个项目用户设置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E6%96%B9%E4%BE%BF%E8%AE%BE%E7%BD%AE"><span class="toc-text">其他方便设置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%8D%A2%E7%BC%96%E8%BE%91%E5%99%A8"><span class="toc-text">更换编辑器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E7%BC%A9%E5%86%99"><span class="toc-text">设置缩写</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BC%80%E5%A7%8B%E4%BD%BF%E7%94%A8Git"><span class="toc-text">开始使用Git</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E4%BB%93%E5%BA%93%EF%BC%88Repository%EF%BC%89"><span class="toc-text">初始化仓库（Repository）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8A%8A%E6%96%87%E4%BB%B6%E4%BA%A4%E7%BB%99Git%E7%AE%A1%E6%8E%A7"><span class="toc-text">把文件交给Git管控</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6%E4%BA%A4%E7%BB%99Git"><span class="toc-text">创建文件交给Git</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6"><span class="toc-text">创建文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%8A%E6%96%87%E4%BB%B6%E4%BA%A4%E7%BB%99Git"><span class="toc-text">把文件交给Git</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#git-add%E5%90%8E%E5%8F%88%E5%AF%B9%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9%E8%BF%9B%E8%A1%8C%E6%94%B9%E5%8A%A8"><span class="toc-text">git add后又对文件内容进行改动</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%8A%E6%9A%82%E5%AD%98%E5%8C%BA%E5%86%85%E5%AE%B9%E6%8F%90%E4%BA%A4%E5%88%B0%E4%BB%93%E5%BA%93%E5%AD%98%E6%A1%A3"><span class="toc-text">把暂存区内容提交到仓库存档</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E8%AE%B0%E5%BD%95"><span class="toc-text">查看记录</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Git%E5%91%BD%E4%BB%A4%E6%9F%A5%E7%9C%8B%E8%AE%B0%E5%BD%95"><span class="toc-text">使用Git命令查看记录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Git%E5%91%BD%E4%BB%A4%E6%9F%A5%E7%9C%8B%E8%AE%B0%E5%BD%95%E6%97%B6%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98"><span class="toc-text">使用Git命令查看记录时常见问题</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E6%89%BE%E6%9F%90%E4%B8%AA%E4%BA%BA%E6%88%96%E6%9F%90%E4%BA%9B%E4%BA%BA%E7%9A%84%E6%8F%90%E4%BA%A4%E8%AE%B0%E5%BD%95"><span class="toc-text">查找某个人或某些人的提交记录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E6%8F%90%E4%BA%A4%E8%AF%B4%E6%98%8E%E6%9F%A5%E6%89%BE%E6%8F%90%E4%BA%A4%E8%AE%B0%E5%BD%95"><span class="toc-text">通过提交说明查找提交记录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8%E6%8F%90%E4%BA%A4%E6%96%87%E4%BB%B6%E4%B8%AD%E6%89%BE%E5%88%B0Ruby"><span class="toc-text">在提交文件中找到Ruby</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E6%89%BE%E6%9F%90%E4%B8%80%E6%97%B6%E9%97%B4%E6%AE%B5%E5%86%85%E7%9A%84%E6%8F%90%E4%BA%A4%E8%AE%B0%E5%BD%95"><span class="toc-text">查找某一时间段内的提交记录</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8Git%E4%B8%AD%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6%E6%88%96%E6%9B%B4%E6%94%B9%E6%96%87%E4%BB%B6%E5%90%8D"><span class="toc-text">在Git中删除文件或更改文件名</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6"><span class="toc-text">删除文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%B4%E6%8E%A5%E5%88%A0%E9%99%A4"><span class="toc-text">直接删除</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Git%E5%88%A0%E9%99%A4"><span class="toc-text">使用Git删除</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A0%E4%B8%8A%E2%80%93cached%E5%8F%82%E6%95%B0"><span class="toc-text">加上–cached参数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%94%B9%E6%96%87%E4%BB%B6%E5%90%8D"><span class="toc-text">更改文件名</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%B4%E6%8E%A5%E6%94%B9%E5%90%8D"><span class="toc-text">直接改名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Git%E6%94%B9%E5%90%8D"><span class="toc-text">使用Git改名</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%9A%84%E5%90%8D%E7%A7%B0%E5%B9%B6%E4%B8%8D%E9%87%8D%E8%A6%81"><span class="toc-text">文件的名称并不重要</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9Commit%E8%AE%B0%E5%BD%95"><span class="toc-text">修改Commit记录</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%94%B9%E5%8A%A8%E6%9C%80%E5%90%8E%E4%B8%80%E6%AC%A1%E7%9A%84Commit%E4%BF%A1%E6%81%AF"><span class="toc-text">改动最后一次的Commit信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%94%B9%E5%8A%A8%E6%9B%B4%E6%97%A9%E7%9A%84Commit%E4%BF%A1%E6%81%AF"><span class="toc-text">改动更早的Commit信息</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%BD%E5%8A%A0%E6%96%87%E4%BB%B6%E5%88%B0%E6%9C%80%E5%90%8E%E4%B8%80%E6%AC%A1Commit"><span class="toc-text">追加文件到最后一次Commit</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B0%E5%A2%9E%E6%96%87%E4%BB%B6%E5%A4%B9"><span class="toc-text">新增文件夹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%89%E4%BA%9B%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%8D%E6%83%B3%E6%94%BE%E5%9C%A8Git%E4%B8%AD"><span class="toc-text">有些文件夹不想放在Git中</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0-gitignore"><span class="toc-text">添加.gitignore</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BF%BD%E7%95%A5%E8%BF%99%E4%B8%AA%E5%BF%BD%E7%95%A5"><span class="toc-text">忽略这个忽略</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BF%BD%E7%95%A5%E5%A4%B1%E6%95%88"><span class="toc-text">忽略失效</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B8%85%E9%99%A4%E5%BF%BD%E7%95%A5%E7%9A%84%E6%96%87%E4%BB%B6"><span class="toc-text">清除忽略的文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%89%B9%E5%AE%9A%E6%96%87%E4%BB%B6%E7%9A%84Commit%E8%AE%B0%E5%BD%95"><span class="toc-text">查看特定文件的Commit记录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%9F%90%E4%B8%AA%E6%96%87%E4%BB%B6%E4%B8%AD%E6%9F%90%E8%A1%8C%E4%BB%A3%E7%A0%81%E6%98%AF%E8%B0%81%E5%86%99%E7%9A%84"><span class="toc-text">查看某个文件中某行代码是谁写的</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%81%A2%E5%A4%8D%E5%88%A0%E9%99%A4%E7%9A%84%E6%96%87%E4%BB%B6"><span class="toc-text">恢复删除的文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%86%E6%8F%90%E4%BA%A4%E7%9A%84Commit%E6%8B%86%E6%8E%89%E9%87%8D%E5%81%9A"><span class="toc-text">将提交的Commit拆掉重做</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8B%86%E6%8E%89%E9%87%8D%E5%81%9A"><span class="toc-text">拆掉重做</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%80%E4%B8%80%E6%AD%A5%E6%B5%B7%E9%98%94%E5%A4%A9%E7%A9%BA"><span class="toc-text">退一步海阔天空</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Reset%E6%A8%A1%E5%BC%8F"><span class="toc-text">Reset模式</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#mixed%E6%A8%A1%E5%BC%8F"><span class="toc-text">mixed模式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#soft%E6%A8%A1%E5%BC%8F"><span class="toc-text">soft模式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#HARD%E6%A8%A1%E5%BC%8F"><span class="toc-text">HARD模式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%89%E7%A7%8D%E6%A8%A1%E5%BC%8F%E7%9A%84%E6%AF%94%E8%BE%83"><span class="toc-text">三种模式的比较</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%81%A2%E5%A4%8D%E4%B8%8D%E5%B0%8F%E5%BF%83%E8%A2%ABhard-reset%E7%9A%84%E6%96%87%E4%BB%B6"><span class="toc-text">恢复不小心被hard reset的文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%80%E5%9B%9E%E5%88%B0Reset%E5%89%8D"><span class="toc-text">退回到Reset前</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Reflog"><span class="toc-text">使用Reflog</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HEAD%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-text">HEAD是什么</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#HEAD%E7%AE%80%E4%BB%8B"><span class="toc-text">HEAD简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%87%E6%8D%A2%E5%88%86%E6%94%AF"><span class="toc-text">切换分支</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%89%88%E6%9C%AC%E5%88%86%E6%94%AF"><span class="toc-text">版本分支</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%89%88%E6%9C%AC%E5%88%86%E6%94%AF%E7%9A%84%E5%8E%9F%E5%9B%A0"><span class="toc-text">使用版本分支的原因</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%A7%8B%E4%BD%BF%E7%94%A8%E5%88%86%E6%94%AF"><span class="toc-text">开始使用分支</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%88%86%E6%94%AF"><span class="toc-text">查看分支</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B0%E5%A2%9E%E5%88%86%E6%94%AF"><span class="toc-text">新增分支</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%94%B9%E5%88%86%E6%94%AF%E5%90%8D%E7%A7%B0"><span class="toc-text">更改分支名称</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E5%88%86%E6%94%AF"><span class="toc-text">删除分支</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%87%E6%8D%A2%E5%88%86%E6%94%AF-2"><span class="toc-text">切换分支</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%88%E5%B9%B6%E5%88%86%E6%94%AF"><span class="toc-text">合并分支</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#A%E5%90%88%E5%B9%B6B%E4%B8%8EB%E5%90%88%E5%B9%B6A"><span class="toc-text">A合并B与B合并A</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%81%A2%E5%A4%8D%E4%B8%8D%E5%B0%8F%E5%BF%83%E8%A2%AB%E5%88%A0%E9%99%A4%E7%9A%84%E5%88%86%E6%94%AF"><span class="toc-text">恢复不小心被删除的分支</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%81%A2%E5%A4%8D%E5%B7%B2%E8%A2%AB%E5%88%A0%E9%99%A4%E4%BD%86%E8%BF%98%E6%9C%AA%E5%90%88%E5%B9%B6%E8%BF%87%E7%9A%84%E5%88%86%E6%94%AF"><span class="toc-text">恢复已被删除但还未合并过的分支</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E5%88%86%E6%94%AF%E6%97%B6%E6%B2%A1%E6%9C%89%E8%AE%B0%E5%BD%95HASH%E5%80%BC"><span class="toc-text">删除分支时没有记录HASH值</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Rebase%E5%90%88%E5%B9%B6%E5%88%86%E6%94%AF"><span class="toc-text">使用Rebase合并分支</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%88%E5%B9%B6%E6%97%B6%E5%8F%91%E7%94%9F%E5%86%B2%E7%AA%81"><span class="toc-text">合并时发生冲突</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%91%E7%94%9F%E5%86%B2%E7%AA%81"><span class="toc-text">发生冲突</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E5%86%B2%E7%AA%81"><span class="toc-text">解决冲突</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Merge"><span class="toc-text">Merge</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Rebase"><span class="toc-text">Rebase</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E6%9E%9C%E5%86%B2%E7%AA%81%E7%9A%84%E6%96%87%E4%BB%B6%E4%B8%8D%E6%98%AF%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6"><span class="toc-text">如果冲突的文件不是文本文件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8E%E8%BF%87%E5%8E%BB%E7%9A%84%E6%9F%90%E4%B8%80Commit%E5%88%9B%E5%BB%BA%E6%96%B0%E5%88%86%E6%94%AF"><span class="toc-text">从过去的某一Commit创建新分支</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9E%E5%88%B0%E8%BF%87%E5%8E%BB%E9%87%8D%E6%96%B0%E5%BC%80%E5%A7%8B"><span class="toc-text">回到过去重新开始</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E6%AD%A5%E5%88%B0%E4%BD%8D"><span class="toc-text">一步到位</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E5%8E%86%E5%8F%B2%E8%AE%B0%E5%BD%95"><span class="toc-text">修改历史记录</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E5%8E%86%E5%8F%B2Commit%E4%BF%A1%E6%81%AF"><span class="toc-text">修改历史Commit信息</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8%E4%BA%92%E5%8A%A8%E6%A8%A1%E5%BC%8F"><span class="toc-text">启动互动模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9Commit%E4%BF%A1%E6%81%AF%E5%90%8E%E7%9A%84%E5%85%B6%E4%BB%96%E5%BD%B1%E5%93%8D"><span class="toc-text">修改Commit信息后的其他影响</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%96%E6%B6%88%E8%BF%99%E6%AC%A1Rebase"><span class="toc-text">取消这次Rebase</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%86%E5%A4%9A%E4%B8%AACommit%E5%90%88%E5%B9%B6"><span class="toc-text">将多个Commit合并</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%86%E4%B8%80%E4%B8%AACommit%E6%8B%86%E6%88%90%E5%A4%9A%E4%B8%AACommit"><span class="toc-text">将一个Commit拆成多个Commit</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%92%E5%85%A5Commit"><span class="toc-text">插入Commit</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B0%83%E6%95%B4Commit%E9%A1%BA%E5%BA%8F"><span class="toc-text">调整Commit顺序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A0%E9%99%A4Commit"><span class="toc-text">删除Commit</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A0%87%E7%AD%BE"><span class="toc-text">标签</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%A7%8B%E4%BD%BF%E7%94%A8%E6%A0%87%E7%AD%BE"><span class="toc-text">开始使用标签</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E7%AD%BE%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-text">标签是什么</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E4%BD%BF%E7%94%A8%E6%A0%87%E7%AD%BE"><span class="toc-text">什么时候使用标签</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E7%AD%BE%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-text">标签的分类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BD%BB%E9%87%8F%E6%A0%87%E7%AD%BE%EF%BC%88lightweight-tag%EF%BC%89"><span class="toc-text">轻量标签（lightweight tag）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%99%84%E6%B3%A8%E6%A0%87%E7%AD%BE%EF%BC%88annotated-tag%EF%BC%89"><span class="toc-text">附注标签（annotated tag）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A4%E7%A7%8D%E6%A0%87%E7%AD%BE%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">两种标签的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%A0%87%E7%AD%BE"><span class="toc-text">删除标签</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%87%E7%AD%BE%E4%B8%8E%E5%88%86%E6%94%AF%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB"><span class="toc-text">标签与分支有什么区别</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E4%B8%80%E4%BA%9B%E5%86%B7%E7%9F%A5%E8%AF%86"><span class="toc-text">其他一些冷知识</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%B4%E6%97%B6%E5%88%87%E6%8D%A2%E5%88%B0%E5%85%B6%E4%BB%96%E4%BB%BB%E5%8A%A1"><span class="toc-text">临时切换到其他任务</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Commit%E5%BD%93%E5%89%8D%E8%BF%9B%E5%BA%A6"><span class="toc-text">Commit当前进度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Stash"><span class="toc-text">使用Stash</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%9D%E5%AD%98Stash"><span class="toc-text">保存Stash</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%B9%B6%E5%88%A0%E9%99%A4Stash"><span class="toc-text">应用并删除Stash</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4Stash"><span class="toc-text">删除Stash</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%94%E7%94%A8Stash"><span class="toc-text">应用Stash</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Github"><span class="toc-text">使用Github</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Github%E6%A6%82%E8%BF%B0"><span class="toc-text">Github概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Github%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-text">Github是什么</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Github%E5%92%8CGit%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">Github和Git的区别</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%86%E5%86%85%E5%AE%B9Push%E5%88%B0Github%E4%B8%8A"><span class="toc-text">将内容Push到Github上</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8Github%E4%B8%8A%E5%88%9B%E5%BB%BA%E6%96%B0%E4%BB%93%E5%BA%93"><span class="toc-text">在Github上创建新仓库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#upstream%E6%98%AF%E4%BB%80%E4%B9%88%E6%84%8F%E6%80%9D"><span class="toc-text">upstream是什么意思</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E6%9E%9C%E6%83%B3%E8%A6%81%E4%B8%8D%E5%90%8C%E7%9A%84%E5%88%86%E6%94%AF%E5%90%8D"><span class="toc-text">如果想要不同的分支名</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Pull%E4%B8%8B%E8%BD%BD%E6%9B%B4%E6%96%B0"><span class="toc-text">Pull下载更新</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFPetch"><span class="toc-text">什么是Petch</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Pull%E6%8C%87%E4%BB%A4"><span class="toc-text">Pull指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Pull-Rebase"><span class="toc-text">Pull+Rebase</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Push%E5%A4%B1%E8%B4%A5"><span class="toc-text">Push失败</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%90%E4%BA%A4PullRequest"><span class="toc-text">提交PullRequest</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFPR"><span class="toc-text">什么是PR</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%9F%E4%B8%8A%E9%A1%B9%E7%9B%AE%E8%BF%9B%E5%BA%A6"><span class="toc-text">跟上项目进度</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%BA%E5%88%B6%E5%90%8C%E6%AD%A5"><span class="toc-text">强制同步</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%9F%E4%B8%8A%E6%B8%B8%E5%90%8C%E6%AD%A5"><span class="toc-text">跟上游同步</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B0%BE%E5%A3%B0"><span class="toc-text">尾声</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="scoicon sco-map-line"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/1037/" title="Fcricle踩坑记录"><img alt="Fcricle踩坑记录" data-lazy-src="https://img.akimio.top/Blog/2024/02/1708526274-65d60ac227ba2.webp"></a><div class="content"><a class="title" href="/posts/1037/" title="Fcricle踩坑记录">Fcricle踩坑记录</a><a class="article-recent_post_categories" href="/posts/1037/">备忘录</a></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/1036/" title="FastCDN说明文档"><img alt="FastCDN说明文档" data-lazy-src="https://img.akimio.top/Blog/2024/01/1705725058-65ab4c824e8bd.webp"></a><div class="content"><a class="title" href="/posts/1036/" title="FastCDN说明文档">FastCDN说明文档</a><a class="article-recent_post_categories" href="/posts/1036/">文档</a></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/1035/" title="利用CloudFlare搭建镜像站"><img alt="利用CloudFlare搭建镜像站" data-lazy-src="https://img.akimio.top/Blog/2024/01/1705389355-65a62d2b0759a.webp"></a><div class="content"><a class="title" href="/posts/1035/" title="利用CloudFlare搭建镜像站">利用CloudFlare搭建镜像站</a><a class="article-recent_post_categories" href="/posts/1035/">网络基建计划</a></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/1034/" title="Docker入门教程"><img alt="Docker入门教程" data-lazy-src="https://img.akimio.top/Blog/2024/01/1704949049-659f753963b50.webp"></a><div class="content"><a class="title" href="/posts/1034/" title="Docker入门教程">Docker入门教程</a><a class="article-recent_post_categories" href="/posts/1034/">学习笔记</a></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/1033/" title="UnlockMusic音乐解锁搭建教程"><img alt="UnlockMusic音乐解锁搭建教程" data-lazy-src="https://img.akimio.top/Blog/2023/12/1696081573-651826a504cc6.png"></a><div class="content"><a class="title" href="/posts/1033/" title="UnlockMusic音乐解锁搭建教程">UnlockMusic音乐解锁搭建教程</a><a class="article-recent_post_categories" href="/posts/1033/">网络基建计划</a></div></div></div></div></div></div></main><footer id="footer"><div id="sco-footer-bar"><div class="footer-logo"><span class="scoicon">秋澪Akimio的博客</span></div><div class="footer-bar-description">来自秋澪的博客 - Akimio blog的文章</div><a class="footer-bar-link" href="/">了解更多</a></div><div id="footer_deal"><a class="deal_link" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/Akimio521" title="Github"><i class="scoicon scoicon sco-bilibili-line"></i></a><a class="deal_link" href="mailto:akimio2333@gmail.com" rel="external nofollow noreferrer" title="Mail"><i class="scoicon scoicon sco-mail-line"></i></a><div class="footer_mini_logo" id="footer_mini_logo" title="返回顶部" onclick="sco.toTop()"><img data-lazy-src="https://img.akimio.top/avatar/akimio.png" alt="返回顶部"></div><a class="deal_link" target="_blank" rel="noopener external nofollow noreferrer" href="https://space.bilibili.com/1329819902" title="Bilibili"><i class="scoicon scoicon sco-bilibili-line"></i></a><a class="deal_link" target="_blank" rel="noopener external nofollow noreferrer" href="http://www.coolapk.com/u/4951361" title="酷安"><i class="scoicon scoicon sco-douyin-fill"></i></a></div><div id="sco-footer"><div class="footer-group"><h3 class="footer-title">导航</h3><div class="footer-links"><a class="footer-item" href="/archives/" title="归档">归档</a><a class="footer-item" href="/categories/" title="分类">分类</a><a class="footer-item" href="/tags/" title="标签">标签</a></div></div><div class="footer-group"><h3 class="footer-title">服务</h3><div class="footer-links"><a class="footer-item" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com" title="Github">Github</a><a class="footer-item" target="_blank" rel="noopener external nofollow noreferrer" href="https://vercel.com/" title="Vercel">Vercel</a><a class="footer-item" target="_blank" rel="noopener external nofollow noreferrer" href="https://www.cloudflare.com/" title="CloudFlare">CloudFlare</a></div></div><div class="footer-group"><h3 class="footer-title">订阅</h3><div class="footer-links"><a class="footer-item" href="/rss2.xml" title="RSS">RSS</a><a class="footer-item" href="/sitemap.xml" title="站点地图">站点地图</a><a class="footer-item" href="/baidusitemap.xml" title="百度站点地图">百度站点地图</a></div></div><div class="footer-group"><h3 class="footer-title">协议</h3><div class="footer-links"><a class="footer-item" href="/cookies/" title="Cookies">Cookies</a><a class="footer-item" href="/privacy/" title="用户协议">用户协议</a><a class="footer-item" href="/copyright/" title="版权协议">版权协议</a></div></div></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div class="copyright">© 2023 - 2024 By&nbsp;<a class="footer-bar-link" href="/">秋澪</a></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/wleelw/hexo-theme-solitude" title="主题">主题</a><a class="footer-bar-link cc"><i class="scoicon sco-copyright-line"></i><i class="scoicon sco-creative-commons-by-line"></i><i class="scoicon sco-creative-commons-nc-line"></i><i class="scoicon sco-creative-commons-nd-line"></i></a></div></div></div><div class="comment-barrage needEndHide"></div></footer></div><!-- inject body--><div><script src="/js/main.js?v=1.4.7"></script><script src="/js/utils.js?v=1.4.7"></script><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="scoicon sco-arrow-left-line"></i></div><div class="rightMenu-item" id="menu-forward"><i class="scoicon sco-arrow-right-line"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="scoicon sco-restart-line"></i></div><div class="rightMenu-item" id="menu-top"><i class="scoicon sco-arrow-up-line"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="scoicon sco-copy-fill"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="scoicon sco-clipboard-fill"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="scoicon sco-chat-new-fill"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="scoicon sco-window-fill"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="scoicon sco-link-line"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="scoicon sco-copy-fill"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="scoicon sco-download-cloud-fill"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-search"><i class="scoicon sco-search-line"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="scoicon sco-play-fill"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="scoicon sco-skip-back-fill"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="scoicon sco-skip-forward-fill"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open('https://music.163.com/#/playlist?id=8407304077', '_blank');"><i class="scoicon sco-play-list-2-line"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="scoicon sco-copy-fill"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-Link" id="menu-randomPost"><i class="scoicon sco-signal-tower-fill"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="scoicon sco-checkbox-multiple-blank-fill"></i><span>文章分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="scoicon sco-price-tag-fill"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><div class="rightMenu-item" id="menu-copy"><i class="scoicon sco-external-link-fill"></i><span>复制地址</span></div><div class="rightMenu-item" id="menu-commentBarrage"><i class="scoicon sco-chat-fill"></i><span class="menu-commentBarrage-text">关闭热评</span></div><div class="rightMenu-item" id="menu-darkmode"><i class="scoicon sco-moon-clear-fill"></i><span class="menu-darkmode-text">深色模式</span></div><div class="rightMenu-item" id="menu-translate"><i class="scoicon sco-panben-line"></i><span>轉為繁體</span></div></div></div><div id="rightmenu-mask"></div><script src="/js/rightside.js?v=1.4.7"></script><script src="https://cdn.cbd.int/solitude-source/js/universe.min.js"></script><script>dark()
</script><script src="/js/tw_cn.js?v=1.4.7"></script><script src="https://cdn.staticfile.org/pjax/0.2.8/pjax.min.js"></script><script src="https://cdn.staticfile.org/vanilla-lazyload/17.8.5/lazyload.iife.min.js"></script><script src="https://cdn.staticfile.org/node-snackbar/0.1.16/snackbar.min.js"></script><script src="https://cdn.staticfile.org/fancyapps-ui/5.0.33/fancybox/fancybox.umd.min.js"></script><script>const coverColorConfig = {
    api: 'https://img2color.wzsco.top/api?img=',
    time: 43200000,
}</script><script src="/js/covercolor/api.js?v=1.4.7"></script><script src="https://cdn.staticfile.org/twikoo/1.6.31/twikoo.all.min.js"></script><script src="/js/comment/twikoo_commentBarrage.js?v=1.4.7"></script><script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script><script src="https://cdn.staticfile.org/instantsearch.js/4.63.0/instantsearch.production.min.js"></script><script src="https://cdn.staticfile.org/algoliasearch/4.22.0/algoliasearch-lite.umd.min.js"></script></div><div id="js-pjax"><script async src="https://cdn.staticfile.org/busuanzi/2.3.0/bsz.pure.mini.min.js"></script><script id="config-diff">var PAGE_CONFIG = {
    is_post: true,
    is_page: false,
    is_home: false,
    page: 'post',
    toc: true,
    comment: true,
}
</script></div><!-- newest comment--><script>window.addEventListener('load', () => {
    const changeContent = (content) => {
        if (content === '') return content;

        const replacements = [
            {regex: /<img.*?src="(.*?)"?[^\>]+>/ig, replacement: '[图片]'},
            {regex: /<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, replacement: '[链接]'},
            {regex: /<pre><code>.*?<\/pre>/gi, replacement: '[代码]'},
            {regex: /<[^>]+>/g, replacement: ""}
        ];

        content = replacements.reduce((str, {regex, replacement}) => str.replace(regex, replacement), content);

        return content.length > 150 ? content.substring(0, 150) + '...' : content;
    }

    const getComment = () => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')

        const runTwikoo = () => {
            twikoo.getRecentComments({
                envId: GLOBAL_CONFIG.comment.twikoo.url,
                region: '',
                pageSize: 6,
                includeReply: true
            }).then(function (res) {
                const twikooArray = res.map(e => ({
                    'content': changeContent(e.comment),
                    'avatar': e.avatar,
                    'nick': e.nick,
                    'url': `${e.url}#${e.id}`,
                    'date': new Date(e.created).toISOString()
                }))
                generateHtml(twikooArray)
            }).catch(function (err) {
                $dom.innerHTML = "无法获取评论，请确认相关配置是否正确"
            })
        }
        runTwikoo()
    }

    const generateHtml = array => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML = array.length ? array.map(item => `
            <div class='aside-list-item'>
              <a href='${item.url}' class='thumbnail'>
                <img data-lazy-src='${item.avatar}' alt='${item.nick}'>
                <div class='name'><span>${item.nick}</span></div>
              </a>
              <div class='content'>
                <a class='comment' href='${item.url}'>${item.content}</a>
                <time class="datetime" datetime="${item.date}"></time>
              </div>
            </div>
          `).join('') : '没有评论'
        window.lazyLoadInstance && window.lazyLoadInstance.update()
        window.pjax && window.pjax.refresh($dom)
        changeTimeFormat()
    }

    const newestCommentInit = () => {
        const $asideList = document.querySelector('#card-newest-comments .aside-list')
        if ($asideList) {
            getComment()
        }
    }

    newestCommentInit()
})</script><!-- pjax--><script>let pjaxSelectors = [
    'title',
    '#body-wrap',
    '#site-config',
    'meta[name="description"]',
    '#js-pjax',
    'meta[property^="og:"]',
]

const pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
})

document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
})

document.addEventListener('pjax:complete', () => {
    window.refreshFn()
})

document.addEventListener('pjax:error', (e) => {
    if (e.request.status === 404) {
        pjax.loadUrl('/404.html')
    }
})</script><!-- theme--><script>initTheme = () => {
    let isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const cachedMode = saveToLocal.get('theme');
    if (cachedMode === undefined) {
        const nowMode =
            isDarkMode ? 'dark' : 'light'
        document.documentElement.setAttribute('data-theme', nowMode);
    } else {
        document.documentElement.setAttribute('data-theme', cachedMode);
    }
}
initTheme()</script><!-- search--><div id="algolia-search"><div class="search-dialog"><div class="algolia-navbar"><div class="search-dialog__title" id="algolia-search-title">搜索</div><div class="algolia-tips"><i class="scoicon sco-algolia-fill"></i><span class="algolia-tips-text">Algolia</span></div><span class="search-close-button"><i class="scoicon sco-close-fill"></i></span></div><div id="algolia-input-panel"><div id="algolia-search-input"></div></div><div id="search-results"><div id="algolia-hits"></div></div><div id="algolia-tips"><div id="algolia-pagination"></div><div id="algolia-stats"></div></div></div><div id="search-mask"></div></div><script src="/js/search/algolia.js?v=1.4.7"></script><!-- music--></body></html><script>const posts=["posts/1037/","posts/1036/","posts/1035/","posts/1034/","posts/1033/","posts/1032/","posts/1031/","posts/1030/","posts/1029/","posts/1028/","posts/1027/","posts/1026/","posts/1025/","posts/1024/","posts/1023/","posts/1022/","posts/1021/","posts/1020/","posts/1019/","posts/1018/","posts/1017/","posts/1016/","posts/1015/","posts/1014/","posts/1013/","posts/1012/","posts/1011/","posts/1010/","posts/1009/","posts/1008/","posts/1007/","posts/1006/","posts/1005/","posts/1004/","posts/1003/","posts/1002/","posts/1001/","posts/1/"];function toRandomPost(){ pjax.loadUrl('/'+posts[Math.floor(Math.random()*posts.length)]); };</script>